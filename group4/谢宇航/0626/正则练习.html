<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // match应用
        var a = 'The quick brown fox jumped over the lazy dog.';
        var pattern = /quick|brown|lazy/ig;
        a = a.replace(pattern, function replacer(match) {
            return match.toUpperCase();
        });
        // console.log(a);

        var prices = {
            'p1': '$1.99',
            'p2': '$9.99',
            'p3': '$5.00'
        };
        var template = '<span id="p1"></span>'
            + '<span id="p2"></span>'
            + '<span id="p3"></span>';
        template = template.replace(
            /(<span id=")(.*?)(">)(<\/span>)/g,
            function (match, $1, $2, $3, $4) {
                return $1 + $2 + $3 + prices[$2] + $4;
            }
        );
        // console.log(template);

        // 'adam LISA barT bob tom john'把这个字符串的每个单词首字母大写，其他字母小写，并且用数组保存，方法只能用正则
        var arr = ['adam', 'LISA', 'barT', 'bob', 'tom', 'john'];
        var str = arr.join(" ");
        str = str.replace(
            /([a-z])([a-z]+)(a-z)/ig,
            function (match, $1, $2) {
                return $1.toUpperCase() + $2.toLowerCase();
            })
        arr1 = str.split(" ");
        console.log(arr1);
        // 作为replace方法第二个参数的替换函数，可以接受多个参数。其中，第一个参数是捕捉到的内容，
        // 第二个参数是捕捉到的组匹配（有多少个组匹配，就有多少个对应的参数）。此外，最后还可以添加两
        // 个参数，倒数第二个参数是捕捉到的内容在整个字符串中的位置（比如从第五个位置开始），最后一个
        // 参数是原字符串。下面是一个网页模板替换的例子。

        //回车（\r）、换行(\n) 、行分隔符（\u2028）和段分隔符（\u2029）
        //正则表达式中，需要反斜杠转义的，一共有12个字符：^、.、[、$、(、)、|、*、+、?、{和\
        var str1 = arr.join(" ");
        str1 = str1.match(/[a-zA-Z]+/g);
        // console.log(str1);

        //如果想将贪婪模式改为非贪婪模式，可以在量词符后面加一个问号。
        var s = 'aaa';
        s.match(/a+?/) // ["a"]

        // 除了非贪婪模式的加号，还有非贪婪模式的星号（*）和非贪婪模式的问号（?）。
        // +?：表示某个模式出现1次或多次，匹配时采用非贪婪模式。
        // *?：表示某个模式出现0次或多次，匹配时采用非贪婪模式。
        // ??：表格某个模式出现0次或1次，匹配时采用非贪婪模式。

        /*(?:x)称为非捕获组（Non-capturing group），表示不返回该组匹配的内容，即匹配的结果中不计入这个
        括号。非捕获组的作用请考虑这样一个场景，假定需要匹配foo或者foofoo，正则表达式就应该写成
        /(foo){1, 2}/，但是这样会占用一个组匹配。这时，就可以使用非捕获组，将正则表达式改为
        /(?:foo){1, 2}/，它的作用与前一个正则是一样的，但是不会单独输出括号内部的内容。*/
        var m = 'abc'.match(/(?:.)b(.)/);
        // ["abc", "c"]


        // 正常匹配
        var url = /(http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)?/;

        url.exec('http://google.com/');
        // ["http://google.com/", "http", "google.com", "/"]
        console.log(url);

        // 非捕获组匹配
        var url = /(?:http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)?/;

        url.exec('http://google.com/');
        // ["http://google.com/", "google.com", "/"]

        var str = "faaafaaaaafaaaat";
        var reg = /fa+/g;
        var reg1 = /fa+?/g;
        console.log(str.match(reg));
        console.log(str.match(reg1));
    </script>
</body>

</html>