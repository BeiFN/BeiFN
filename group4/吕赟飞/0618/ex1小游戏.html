<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <button id="btn">开始游戏</button>
    <div id="container">

    </div>
    <script>

        var someone = {
            name: "一个虚拟人物",
            hp: 100
        }
        var eventList = [
            {
                type: "吃了一颗毒蘑菇",
                harm: 20
            },
            {
                type: "走路崴了脚",
                harm: 2
            },
            {
                type: "淋雨感了冒",
                harm: 5
            }
        ]

        function playGame() {
            var dieList = ["狗带了", "玩完了", "去世了"]
            var html = "";
            for (var i = 0; true; i++) {
                var randomInt = getRandomInt(0, eventList.length - 1);
                someone.hp -= eventList[randomInt].harm;

                if (someone.hp <= 0) {
                    html += "<p>" +
                        someone.name + "" +
                        "因为 " + eventList[randomInt].type + "而减少了" + eventList[randomInt].harm + "hp" +
                        dieList[getRandomInt(0, 2)] + "。游戏结束" +
                        "</p>";
                } else {
                    html += "<p>" +
                        someone.name + "" +
                        "因为 " + eventList[randomInt].type + "而减少了" +
                        eventList[randomInt].harm + "血量剩余" +
                        someone.hp + "hp"
                    "</p>";
                }
                container.innerHTML = html;

                if (someone.hp <= 0) {
                    someone.hp = 100;
                    html = "";
                    break;
                }
            }
        }

        function getRandomInt(min, max) {
            return min + Math.round(Math.random() * (max - min));
        }

        btn.onclick = playGame;

    </script>
</body>

</html>