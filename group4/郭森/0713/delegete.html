<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div {

            margin: 20px;
            padding: 20px;
        }

        #a {
            background: #000;
        }

        #b {
            background: #fff;
        }

        #c {
            background: #666;
            width: 100px;
            height: 100px;
        }
    </style>
</head>

<body>
    <div id="a">
        <div id="b">
            <div id="c"></div>
        </div>
    </div>
    <script src="../../ku/hanshuku.js"></script>
    <script>
        let a_e,b_e;
        // 事件委托
        on(a, "click", function (e) {
            console.log("a:", e);
            a_e=e;
            e.stopPropagation ? e.stopPropagation() : e.cancelBubble = true;
        }, "#c");
        on(a, "click", function (e) {
            console.log("b:", e);
            b_e=e;
        }, "#b");
        on(document,"click",function(e){
            console.log("dom");
        })

        // 正常情况
        // on(c,"click",function(e){
        //     console.log("b");
        // //    e.stopPropagation?e.stopPropagation():e.cancelBubble=true;
        // })
        // on(b,"click",function(e){
        //     console.log("a");
        // });

        // 柯里化
        // on(b, "click", function(e){
        //     console.log("c:", e);
        //    e.stopPropagation?e.stopPropagation():e.cancelBubble=true;
        // })
        // on(b, "click", function(e){
        //     console.log("b:", e);
        // });


        // function clh(cb) {
        //     return function (evt) {
        //         var e = evt || window.event,
        //             target = e.target || e.srcElement;
        //         cb.call(target, e);
        //     }
        // }




        // on(a,"click",function(e){
        //    console.log(this,e.target);
        // },"#b")
        // on(b,"click",function(e){
        //     console.log(this,e.target);
        // })
        // 事件的  this  应该指向 绑定 事件的元素，
        // 事件的 target 应该指向 触发 事件的元素

    </script>
</body>

</html>