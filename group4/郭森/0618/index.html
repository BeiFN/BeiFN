<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            height: 5000px;
        }

        #loadBox {
            width: 500px;
            height: 50px;
            border: 3px solid #faa;
            top: 200px;
            left: 0;
            right: 0;
            margin: 0 auto;
            box-shadow: 5px 5px 3px #faa;
            position: absolute;
            z-index: 999;
        }

        #loadBar {
            width: 0;
            height: 50px;
            background: deeppink;
        }

        #bannerBox {
            background: rgb(188, 0, 0);
            margin: 0 auto;
            text-align: center;
            color: #fff;
        }

        #bannerBox img {
            display: block;
        }

        #goTop {
            background: #faa;
            color: #fff;
            position: fixed;
            bottom: 20px;
            right: 20px;
            border: none;
            width: 100px;
            height: 25px;
        }

        #surplusTime {
            position: absolute;
            top: 100px;
        }
    </style>

</head>

<body>
    <div id="bannerBox">
        <img src="https://m.360buyimg.com/babel/jfs/t1/50520/20/2636/75000/5d071093E31244f52/e431bdd23b70e7fb.jpg"
            alt="">
        三秒后消失
    </div>
    <div id="surplusTime">
        <p>请输入年份 : <input type="number" id="yearIpt" value="2019"> </p>
        <p>请输入月份 : <input type="number" id="monthIpt" value="10"> </p>
        <p>请输入日期 : <input type="number" id="dateIpt" value="1"> </p>
        <p><button id="start">开始倒计时</button></p>
        <div id="content">
            <h1>距离结束还有 xx 小时 xx 分钟 xx 秒</h1>
        </div>
    </div>
    <div id="loadBox">
        <div id="loadBar"></div>
    </div>
    <button id="goTop">回到顶部</button>

    <script>
        // 倒计时
        function forMat(year, month, date) {
            var end = new Date(year, month - 1, date);
            var now = Date.now();
            var reduce = end.getTime() - now;
            var hour = parseInt(reduce / 1000 / 3600);
            var minutes = parseInt(reduce / 1000 / 60 % 60);
            var date = parseInt(reduce / 1000 % 60);

            return [hour, minutes, date];
        }
        start.onclick = function dateStr() {
            var year = yearIpt.value;
            var month = monthIpt.value;
            var date = dateIpt.value;
            var timer = null;
            timer = setInterval(() => {
                var reduce = forMat(year, month, date);
                var res=parseInt(reduce[0] / 24)>0? parseInt(reduce[0] / 24) + "天" + reduce[0] % 24 + "小时":reduce[0]  + "小时";
                var h1 = "<h1>距离结束还有" + parseInt(reduce[0] / 24) + "天" + reduce[0] % 24 + "小时" + reduce[1] + "分钟" + reduce[2] + "秒</h1>";
                content.innerHTML = h1;
            }, 1000);
        }
        // 进度条
        var timer = setInterval(moving, 10);
        var progress = 0;
        function moving() {
            progress++;
            loadBar.style.width = progress + "px";
            if (progress >= 500) {
                clearInterval(timer);
            }
        }
        // 广告弹出窗
        var timer2 = setTimeout(banner, 3000);
        function banner() {
            bannerBox.style.display = "none";
        }
        // 顶部悬浮
        window.onscroll = function () {
            var _top = document.body.scrollTop || document.documentElement.scrollTop;
            if (_top > 200) {
                loadBox.style.position = "fixed";
                loadBox.style.top = "0px";
            } else {
                loadBox.style.position = "absolute";
                loadBox.style.top = "200px";
            }
        }
        // 回到顶部
        goTop.onclick = function () {
            document.documentElement.scrollTop = document.body.scrollTop = 0;
        }

        // 倒计时

        // var total = 3600;
        // var t = setInterval(function () {
        //     total--;
        //     if (total == 0) {
        //         clearInterval(t);
        //         return;
        //     }
        //     console.log(formatNumber(parseInt(total / 60)), formatNumber(total % 60));
        // }, 100);

        // 数码时钟

        // setInterval(function () {
        //     var now = new Date();
        //     var hour = now.getHours();
        //     var min = now.getMinutes();
        //     var sec = now.getSeconds();

        //     var n1 = parseInt(hour / 10);
        //     var n2 = hour % 10;
        //     var n3 = parseInt(min / 10);
        //     var n4 = min % 10;
        //     var n5 = parseInt(sec / 10);
        //     var n6 = sec % 10;

        //     var imgs = document.getElementsByTagName("img");
        //     imgs[0].src = "img/" + n1 + ".png";
        //     imgs[1].src = "img/" + n2 + ".png";
        //     imgs[2].src = "img/" + n3 + ".png";
        //     imgs[3].src = "img/" + n4 + ".png";
        //     imgs[4].src = "img/" + n5 + ".png";
        //     imgs[5].src = "img/" + n6 + ".png";
        //     //console.log(n1,n2,n3,n4,n5,n6);
        // }, 1000);


        // 进度条

        // window.onload = function () {
        //     var num = 5;
        //     var div = document.getElementById("ad");
        //     var t = setInterval(function () {
        //         if (num == 0) {
        //             clearInterval(t);
        //             div.style.display = "none";
        //             return;
        //         }
        //         div.children[0].innerHTML = --num;
        //     }, 1000);
        // }

        // 广告弹出窗

        // window.onload = function () {
        //     var fdiv = document.getElementById("filldiv");
        //     var percent = document.getElementById("percent");
        //     var timer = setInterval(function () {
        //         fdiv.style.width = parseInt(getStyle(fdiv, "width")) + 1 + "px";
        //         if (fdiv.style.width == "200px") {
        //             clearInterval(timer);
        //         }
        //     }, 50);
        // }

        // 顶部悬浮

        // window.onscroll = function () {
        //     var div2 = document.getElementById("div2");
        //     var _top = document.body.scrollTop || document.documentElement.scrollTop;
        //     if (_top > 400) {
        //         div2.style.position = "fixed";
        //         div2.style.top = "0px";
        //     } else {
        //         div2.style.position = "absolute";
        //         div2.style.top = "400px";
        //     }
        // }

        // 回到顶部

        // window.onscroll = function () {
        //     var backBtn = document.getElementById("backTop");
        //     backBtn.onclick = function () {
        //         //将滚动距离设为0，则回到顶部
        //         document.documentElement.scrollTop = document.body.scrollTop = 0;
        //     }
        //     //计算滚动的距离
        //     var _top = document.documentElement.scrollTop + document.body.scrollTop;
        //     //if(距离 > 1000) 显示回到顶部的按钮
        //     if (_top > 1000) {
        //         backBtn.style.display = "block";
        //     } else {
        //         backBtn.style.display = "none";
        //     }
        // }

    </script>
</body>

</html>