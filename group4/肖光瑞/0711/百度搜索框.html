<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body,
        html {
            width: 100%;
        }

        #ipt {
            display: block;
            width: 400px;
            height: 30px;
            margin: 40px auto 0;
        }

        #content {
            width: 402px;
            /* height: 20px; */
            margin: 0 auto;
            border: 1px solid skyblue;
        }
    </style>
</head>

<body>
    <input type="text" id="ipt">
    <div id="content">

    </div>
    <script>
        function jsonp(url, cb_fild, data) {
            return new Promise(function (resolve, reject) {
                var globla = "foo";
                window[globla] = function (res) {
                    resolve(res)
                }
                url += /\?/.test(url) ? "&" : "?" + cb_fild + "=" + globla;
                if (typeof data === "object") {
                    for (var attr in data) {
                        url += "&" + attr + "=" + data[attr];
                    }

                }
                var script = document.createElement("script");
                script.src = url;
                script.onload = function () {
                    this.remove();
                }
                document.body.appendChild(script);
            })
        }

        var url = "https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su";
        var data = {
            json: 1,
            p: 3,
            sid: 1423_21080_29238_28518_29099_28830_29221_22158,
            req: 2,
            sc: "eb",
            csor: 0,
            _: Date.now(),
            wd: ""
        }

        // jsonp(url, "cb", data)
        //     .then(function (res) {
        //         console.log(res);
        //     })

        let ipt = document.getElementById("ipt"),
            content = document.getElementById("content");

        ipt.oninput = function () {
            data.wd = this.value;
            jsonp(url, "cb", data)
                .then(function (res) {
                    let html = "";
                    // for (let i = 0, item; item = res.s[i++];) {
                    //     html += `<p>${item}</p>`;
                    //     content.innerHTML = html;
                    // }
                    res.s.forEach(item => {
                        html += `<p>${item}</p>`;
                        content.innerHTML = html;
                    });
                })
        }

    </script>

</body>

</html>