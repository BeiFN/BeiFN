<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
      *{
      margin: 0;
      padding: 0;
      font-size: 30px;
      }
      li{
      list-style-type:none;
      }
      #pagination{
            background: #ddd;
            width: 300px;
            height: 400px;
            margin: 0 auto;
      }
      #btn-list{
            width: 100%;
            height: 50px;
            text-align: center;
            background: #b6b6b6;
            line-height: 50px;
      }
      #btn-list button{
            padding: 0 20px;
      }
      #btn-list button.active{
            background: yellowgreen;
      }
      #content-list li{
            width: 300px;
            height: 350px;
            line-height: 350px;
            text-align:center;
            display: none;
      }
      #content-list li.active{
            display: block;
      }
  </style>
</head>
<body>
  <div id="pagination">
    <div id="btn-list">
          <button>1</button>
          <button>2</button>
          <button>3</button>
    </div>
    <ul id="content-list">
          <li class="active">1</li>
          <li>2</li>
          <li>3</li>
    </ul>
</div>

<script>
// 1.获取元素
function Table(btnSelector,contentSelector){
  // 这里的this指的是实例table
  console.log(this)
  this.btns = document.getElementById(btnSelector).children
  this.contents = document.getElementById(contentSelector).children 
}

// 2.给原型（Table.prototype）添加初始化方法
// 每个函数添加监听事件
Table.prototype.init = function(){
  for(var i = 0,btn; btn = this.btns[i]; i++){
      btn.addEventListener("click",this.changeContent.bind(this,i))
      btn.addEventListener("click",this.addBtnColor.bind (this,i))
  }
}

// 3.改变className的值
Table.prototype.changeContent = function(index,evt){
  var e = evt || window.event
  var target = e.target || e.srcElement
  for(var i = 0, content; content = this.contents[i++];){
    content.className = ""
  }
  this.contents[index].className = "active"
}

// 4.随机颜色
Table.prototype.addBtnColor = function(index,evt){
      var e = evt || window.event;
      var target = e .target || e.srcElement;
      // 三个取整的方法：Math.ceil()向上取整   Math.floor()向下取整   Math.round()四舍五入
      // padStart(6,"0") 总过6位，不足的用0补齐
      // parseInt("ffffff",16)"ffffff"是16进制的，返回的是转换为10进制的
      
      this.btns[index].style.background = "#" + Math.round(parseInt("ffffff",16) * Math.random()).toString(16).padStart(6,"0")
}

// 5.调用函数
var table = new Table("btn-list","content-list")
table.init()
</script>
</body>
</html>