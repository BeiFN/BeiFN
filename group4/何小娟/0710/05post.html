<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
      *{
            margin: 0;
            padding: 0;
      }
</style>
</head>
<body>

  <script>
          var xhr = new XMLHttpRequest();
            xhr.open("POST","http://localhost/0710/05post.php");
            xhr.setRequestHeader("Content-type" , "application/x-www-form-urlencoded");
            xhr.send("username=hello world");
            xhr.onreadystatechange = function(){
                  if(xhr.readyState === 4 && xhr.status === 200){
                        // hello world
                        console.log(xhr.responseText);
                  }
            }

    // function ajax(
    //   url,
    //   {
    //     callback     = (res) => {},
    //     type         ="get",
    //     data         = {},
    //     contentType  ="application/x-www-form-urlencoded"
    //   } = {}
    //   ){
    //     var data_str = ""
    //     for(var attr in data){
    //       data_str += `${data_str.length > 0 ? "&" :""}${data}=${data[attr]}`
    //     }

    //     var xhr = new XMLHttpRequest()
    //     // (/\?/.test(url) ? "&" : "?" )+data_str :如果type是get的话，判断有？吗。有机加&，没有就加？
    //     xhr.open(type,url+(type === "get" ? (/\?/.test(url) ? "&" : "?" )+data_str :"" ) )

    //     type === "get" ? xhr.setRequestHeader("Content-type",contentType) : ""

    //     xhr.send(type === "post" ? data_str : null)

    //     xhr.onreadystatechange = function(){
    //       if(xhr.readyState === 4 && xhr.status === 200){
    //            callback(xhr.responseText)
    //       }
    //     }
    // }

    // // 假数据：自己写的json
    // ajax(
    //   "http://localhost/0710/04json.json?data=1",
    //   {
    //     callback :function(res){
    //       console.log(res)
    //     },
    //     type: "post",
    //     data: {
    //         username : "hello hxj",
    //         password : "12345"
    //     }
    //  }
    // )
    
  </script>
  
</body>
</html>