<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script src="../libs/jquery.js"></script>
  <script>
    // $.ajax("./data/json.json")
    // .then(function(res){
    //   console.log(res);
    // })
    // 全局事件
    $(document).ajaxError( function(){
      console.log("报错了");
    })
    $.ajaxSetup({
      statusCode: {
        404 : function(){
          console.log("找不到页面2")
        },
        500 : function(){
          alert("数据没有更改,你请求干啥")
        }
      }
    })
    $.ajax({
      url : "./data/json.jsons",
      type : "GET",
      data : {a : 10, b : 20},
      dataType : "html",
      timeout : 6000,
      async : true,
      statusCode: {
        // 404 : function(){
        //   console.log("找不到页面1")
        // },
        500 : function(){
          alert("数据没有更改,你请求干啥")
        }
      },
      beforeSend : function(){
        console.log("我还没发送请求");
      },
      success : function(){
        console.log("成功时会调用")
      },
      error : function(){
        console.log("失败时会调用");
      },
      complete : function(){
        console.log("只要完成了无论成功失败");
      }
    })
    .done(function(res){
      console.log(res);
    })
    .catch(function(xhr, errorType){
      console.log(xhr, errorType);
    })

    $.ajax({
      url : "sadfasdf.json",
      global : false // 不执行全局类事件
    })
  </script>
</body>
</html>