<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Document</title>
</head>
<body>

      <script>
            // ajax("url")
            // .add(function(res){
            //       console.log(res);
            // })

            // function ajax(url){
            //       // 订阅者名单
            //       var list = [];
                  
            //       var xhr = new XMLHttpRequest();
            //       xhr.open("GET", url );
            //       xhr.send(null);
            //       xhr.onreadystatechange = function(){
            //             if(xhr.readyState === 4 && xhr.status === 200){
            //                   // console.log("执行结束");
            //                   // 发布信息;
            //                   // list.forEach( cb => {
            //                   //       typeof cb === "function" ? cb(xhr.responseText) : "";
            //                   // })
            //                   for(var i = 0 ; i < list.length ; i ++){
            //                         // console.log(list[i]);
            //                         list[i](xhr.responseText);
            //                   }
            //             }
            //       }

            //       return {
            //             add : function(){
            //                   list = list.concat( Array.from(arguments) );
            //                   return list;
            //             }
            //       }
            // }

            // var url = "http://localhost/gp12coding/0710/03products.json";
            // console.log(ajax(url).add(function(res){
            //       console.log("函数1");
            // },function(){
            //       console.log("函数2")
            // }));

      </script>
</body>
</html>