<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>数组的新增的方法</title>
</head>

<body>
    <script>
        //ES5数组的方法
        //forEach
        // var arr = [1, 2, 3, 5, 6, 433, 23, 2]
        // arr.forEach(function(){
        //     console.log(1) //输出的结果是8个1
        // })
        //forEach没有返回值，他会执行数组的长度次
        //forEach 封装
        // function myForEach(arr,fn){
        //     for(var i = 0;i<arr.length;i++){
        //         fn(arr[i],i,arr);
        //     }
        // }
        // myForEach(arr,function(item,index,array){
        //     console.log(item,index,array);  
        // })

        //map 返回一个新数组，数组的值是函数的返回值
        // console.log(arr.map(function (itme,index) {
        //     return parseInt(itme*1.3);
        // }))


        //filter 会根据函数每一次的执行结果进行判断是否可以将该项加入新数组中
        // var newArr = arr.filter(function(itme,index){
        //     return itme>10
        // })
        // console.log(newArr)

        //every  一旦里面的函数返回false 那么整个函数都会跳出
        // function myEvery(arr,fn){
        //     for(var i = 0;i<arr.length;i++){
        //        if(!fn(arr[i],i,arr)){
        //            return false;
        //        }
        //     }
        //     return true;
        // }

        //some 只有函数有一个返回值为true   那么整个函数都会跳出
        // function mySome(arr, fn) {
        //     for (var i = 0; i < arr.length; i++) {
        //         if(fn(arr[i],i,arr)){
        //             return true;
        //         }
        //     }
        //     return false;
        // }

        // flat扁平化  返回的是一个新的数组
        // console.log(arr.flat())
        var arr = [1, 2, [3, 5], 6, 433, [23, 2]]
        function myflat(arr){
            // var newArr = []
            //判断是否是第一次进来
            if(!myflat.res){
                //递归第二次进来就不会重置数组了
                myflat.res = []
            }
            for(var i = 0; i < arr.length; i++){
                if( !(arr[i] instanceof Array) ){
                    myflat.res.push(arr[i])
                }else{
                    myflat(arr[i])
                }
            }
            return myflat.res ;
        }
       console.log( myflat(arr))



    </script>
</body>

</html>