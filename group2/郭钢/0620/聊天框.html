<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>聊天对话框</title>
<style type="text/css">
*{font-size: 14px; padding:0; margin:0;}
.main{
	position: relative;
	margin: 20px auto;
	border: 1px solid steelblue;
	width: 430px;
	height: 400px;
}
.msgInput{
	display: block;
	width: 406px;
	height: 60px;
	margin: 10px auto;
	
}
#player{
    width: 60px;
    height: 30px;
    line-height: 30px;
    margin-left: 10px;
    text-align: center;
    background: #fcc;
    color: #00f;
}
.sendbtn{
	position: absolute;
	width: 100px;
	height: 29px;
	bottom: 5px;
	right: 10px;
}
.content{
	list-style: none;
	width: 410px;
	height: 280px;
	margin: 5px auto;
	border: 1px dotted #D1D3D6;
	overflow-y: scroll;
}
.msgContent{
	width:auto;
	max-width: 250px;
	height: auto;
	word-break: break-all;
	margin: 5px;
	padding: 3px;
	border-radius: 5px;
}

.content .left{
	float: left;
	text-align: left;
	background-color: lightgrey;
	clear: both;
}
.content .right{
	float: right;
	text-align: right;
	background-color: yellowgreen;
	clear: both;
}
</style>
</head>
<body>
	<div id="main" class="main">
		<ul id="content" class="content">
			<li class="msgContent left">玩游戏吗?</li>
			<li class="msgContent right">玩</li>
			<li class="msgContent left">你走哪？</li>
            <li class="msgContent right">中路吧</li>
            <li class="msgContent left">你玩啥?</li>
            <li class="msgContent right">亚索</li>
            <li class="msgContent left">嘟嘟嘟嘟...</li>
            <li class="msgContent right">喂</li>
            <li class="msgContent right">喂</li>
            <li class="msgContent right">喂</li>
		</ul>
        <textarea id="msg_input" class="msgInput"></textarea>
        <select name="" id="player">
            <option value="develope">坑</option>
            <option value="carry" >被坑</option>
        </select>
		<button id="sendbtn" class="sendbtn">发送</button>
	</div>
</body>
<script>
    sendbtn.onclick = chat;
    function chat(){
        var msgGet = msg_input.value;
        var li = document.createElement("li");
        var choose = player.value;
        content.appendChild(li);
        if(choose == "develope") li.className="msgContent right";
        else li.className = "msgContent left"
        li.innerHTML = msgGet;
        li.scrollIntoView();
        msg_input.value = "";
        msg_input.focus();
    }
    onkeydown = function(evt){
        var e = event || evt;
        var keyvalue = e.keyCode;
        if(keyvalue === 13) chat();
     }
</script>
</html>
