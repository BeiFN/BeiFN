<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .ball{
              width: 20px;
              height: 20px;
              border-radius: 50%;
              background: radial-gradient(#fff,#000);
              position: absolute;
              
        }
  </style>
</head>
<body>
    <script>
        
    function Particle(ele){
        this.main_ele=ele.nodeType===9?ele:document.querySelector(ele);
        this.init();
    }    
    Particle.prototype.init=function(){
        this.timer=null;
        this.cWidth=document.documentElement.clientWidth;
        this.cHeight=document.documentElement.clientHeight;
        this.main_ele.addEventListener('mousedown',this.handlerMousedown.bind(this));
        this.main_ele.addEventListener('mouseup',this.handlerMouseup.bind(this));
        this.main_ele.addEventListener('mousemove',this.handlerMousemove.bind(this));

    }
    Particle.prototype.handlerMousemove=function(evt){
        var e=evt||window.event;
        this.offsetX=e.offsetX;
        this.offsetY=e.offsetY;

    }
    
    Particle.prototype.handlerMousedown=function(evt){
        // console.log(1)
        var e=evt||window.event;
        this.offsetX=e.offsetX;
        this.offsetY=e.offsetY;
        this.timer=setInterval(function(){
           var ball=this.createBall();
        //    console.log(ball)
            setTimeout(function(){
                this.move(ball,e.offsetY)
            }.bind(this),100)
            
        }.bind(this),50)
        // console.log(1)

        // console.log(1)
    }
    Particle.prototype.createBall=function(){
        var ele=document.createElement('div');
        ele.style.left=this.offsetX+'px';
        ele.style.top=this.offsetY+'px';
        ele.style.transition='all 1s';
        ele.className='ball';
        document.body.appendChild(ele);
        return ele;

    }
    Particle.prototype.move=function(ball,minTop){
        var randomL = Math.round(Math.random() * this.cWidth);
        var randomT = minTop + Math.round(Math.random() * (this.cHeight - minTop));
        // console.log(ball)
        // console.log(1)
        // console.log(randomT)
        ball.style.left=randomL+'px';    
        ball.style.top=randomT+'px';
        ball.style.opacity  = 0.1;
        setTimeout(function(){
            ball.remove()
            // console.log('rem')
        }.bind(this),1000)
    }
    Particle.prototype.handlerMouseup=function(){
        clearTimeout(this.timer)
    }
    new Particle(document)
    </script>
    
</body>
</html>