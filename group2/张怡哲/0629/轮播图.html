<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .container{
            width: 500px;
            height: 300px;
            border: 1px solid #000;
            margin: 100px auto;
            position: relative;
            overflow: hidden;
        }
        .wrapper{
            width: 3000px;
            height: 300px;
            position: absolute;
            top: 0;
            left: 0;
        }
        .slider{
            float: left;
            width: 500px;
            height:300px;
            text-align: center;
            line-height: 300px;
        }
        .pagination{
            width: 300px;
            height: 50px;
            position: absolute;
            top: 230px;
            left: 100px;
            text-align: center;
            line-height: 50px;
        }
        .pagination span{
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: yellowgreen;
            display: inline-block;
            text-align: center;
            line-height: 30px;
            cursor: pointer;
        }
        .button-next,.button-prev{
            width: 50px;
            height:50px;
            border-radius: 50%;
            position: absolute;
            z-index: 999;
            font-size: 45px;
            text-align: center;
            line-height: 50px;
            background: rgba(0, 255, 110, .5);
            cursor:pointer;
        }
        .button-next{
            right: 30px;
            top: 125px;
        }
        .button-prev{
            left: 30px;
            top: 125px;
        }
    </style>
</head>
<body>
        <div class="container">

                <div class="wrapper">
                      <div class="slider" style="background: #F0F">1</div>
                      <div class="slider" style="background: #0F0">2</div>
                      <div class="slider" style="background: #0FF">3</div>
                      <div class="slider" style="background: #FF0">4</div>
                      <div class="slider" style="background: #00F">5</div>
                      <div class="slider" style="background: #F0F">1</div>
                </div>
    
                <div class="button-next">></div>
                <div class="button-prev"><</div>
    
                <div class="pagination">
                      <span>1</span>
                      <span>2</span>
                      <span>3</span>
                      <span>4</span>
                      <span>5</span>
                </div>
          </div>
          <script>
            function $(selector){
                var ele = null;
                return (ele = document.querySelectorAll(selector)).length === 1 ? ele[0] : ele;
            }
            var container = $(".container");
            var wrapper = $(".wrapper");
            var sliders = $(".slider");
            var next_btn  = $(".button-next");
            var prev_btn  = $(".button-prev");
            var pointerList = $("span");
            var pagination = $(".pagination");
            var showIndex = 0;
            var timer = null;

            next_btn.onclick = function(){
                if(showIndex === sliders.length - 1){
                    showIndex = 1;
                    wrapper.style.left = 0;
                }else{
                    showIndex++;
                }
            }

            prev_btn.onclick = function(){
                if(showIndex === 0){
                    showIndex = sliders.length - 2;
                    wrapper.style.left = "-2500px";
                }else{
                    showIndex--;
                }
            }

            container.onclick = function(evt){
                var e = evt || event;
                var target = e.target || e.srcElement;
                if(target === next_btn || target === prev_btn){
                    move(-500*showIndex , wrapper , "left");
                }
            }

        // pagination.addEventListener("click",delegation(changeIndex,"span"));

        // function delegation(eventCallBack , selector){
        //     return function(evt){
        //         var e = evt || event;
        //         var target = e.target || e.srcElement;
        //         _target = target;
        //         var targetFamily = [];

        //         var count =0 ;
        //         while(true && count < 100){
        //             if(this === _target){
        //                 break;
        //             }
        //             targetFamily.push(_target);
        //             _target = _target.parentNode;
        //             count++;
        //         }

        //         var eleList = this.querySelectorAll(selector);
        //         // console.log(eleList)
        //         // console.log();
        //         for(var i=0,ele ; ele = eleList[i++];){
        //             if(targetFamily === 1 ? target === this : targetFamily.indexOf(ele)!==-1){
        //                 eventCallBack.call(ele,e);
        //             }
        //         }
        //     }
        // }

        // function changeIndex(){
        //     showIndex = parseInt(this.innerHTML)-1;
        //     move(-500*showIndex,wrapper,"left");
        // }
                var pointer = null;
            for(let i = 0 ; pointer = pointerList [i++];){
                pointer.onclick = function(){
                    showIndex = i-1;
                    move(-500*showIndex , wrapper , "left");
                }
            }

            function move(target , dom , attr){
                clearInterval(dom.timer);

                dom.timer = setInterval(function(){
                    var iNow = parseInt(getComputedStyle(dom)[attr]);
                    
                    var speed = (target - iNow)/10;
                    speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);

                    if(target === iNow){
                        clearInterval(timer);
                    }else{
                        dom.style[attr] = iNow + speed + "px";
                    }
                },50)
            }
          </script>
</body>
</html>