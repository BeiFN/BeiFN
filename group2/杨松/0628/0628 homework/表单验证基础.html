<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>表单验证</title>
    <style>
        form{width:400px;height: 400px;background:rgba(0,0,0,.5);margin: 0 auto;border-radius: 5px;}
        #btn{border-radius: 10px;width: 80px;height: 30px;text-align: center;margin-left: 100px;background-color: #0099FF}
        input{border-radius: 5px}
    </style>
</head>
<body>
<form action="javascript:void(0)" id="form">
    <p>
        <span></span>
        <input type="text" placeholder="验证是否通过" id="pass" style="margin-left: 70px;">
    </p>
    <p>
        <span>邮&nbsp;&nbsp;箱 :</span>
        <input type="text" id="email">
    </p>
    <p>
        <span>用户名 :</span>
        <input type="text" id="username">
    </p>
    <p>
        <span>密&nbsp;&nbsp;码 :</span>
        <input type="text" id="password">
    </p>
    <p>
        <span></span>
    </p>
    <button id="btn">提交</button>
</form>
<script>
    function $(selector){
        var res = null;
        return (res = document.querySelectorAll(selector)).length === 1 ? res[0] :res;
    }

    var email    = $("#email");
    var username = $("#username");
    var password = $("#password");

    email.   addEventListener("blur" ,validateEmail);
    username.addEventListener("blur" ,validateUsername);
    password.addEventListener("blur" ,validatePassword);

    /*
    *  需求 : 用户名 =>  中文，英文 ， 数字，- , _ 组成的4~20位字符;
    *  tip : 不能是纯数字;
    *  邮箱  => 正常邮箱;
    *  密码  => 允许  !@#$%^&*() + 数字 + 字母  密码的长度应该在6位之上 ,密码强度;
    * */
    function validateEmail(){
        var value =this.value;
        var reg =/^[a-z0-9]\w{5,19}@[a-z0-9]{2,10}\.(net|com|cn)$/i;
        if(reg.test(value)){
            this.style.borderColor = "yellowgreen";
        }else {
            this.style.borderColor ="red";
        }
    }
    function validateUsername(){
       var value =this.value;
       var reg =/^[\u4e00-\u9fa50-9a-z_\-]{4,20}$/i;
       if(reg.test(value)){
           if(/^\d+$/.test(value) || /\-$/.test(value)){
               this.style.borderColor = "red";
           }else {
               this.style.borderColor = "yellowgreen";
           }
       }else {
           this.style.borderColor ="red";
       }
    }
    function validatePassword(){
        var value =this.value;
        var reg =/^[\!\@\#\$\%\^\&\*\(\)0-9a-z_\-]{6,20}$/;
        if(reg.test(value)){
           this.style.borderColor ="yellowgreen";
           var count =0;
           if(/\d/.test(value)){
               count++;
           }
           if(/[a-z]/i.test(value)){
               count++;
           }
           if(/[\!\@\#\$\%\^\&\*\(\)_\-]/.test(value)){
               count++;
           }
            switch(count){
                case 0 :
                    this.style.borderColor ="red";
                case 1 :
                    this.style.borderColor = "red";
                    break;
                case 2 :
                    this.style.borderColor = "orange";
                    break;
                case 3 :
                    this.style.borderColor = "yellowgreen";
                    break;
                default :
                    this.style.borderColor = "red";
            }
        }else {
            this.style.borderColor ="red";
        }
    }
</script>
</body>
</html>