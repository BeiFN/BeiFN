<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>选项卡</title>
    <style>
        *{margin: 0;padding: 0;font-size: 30px;}
        li{list-style-type:none;}
        #pagination{background: #ddd;width: 300px;height: 400px;margin: 0 auto;}
        #btn-list{width: 100%;height: 50px;text-align: center;background: #b6b6b6;line-height: 50px;}
        #btn-list button{padding: 0 20px;}
        #btn-list button.active{background: yellowgreen;}
        #content-list li{width: 300px;height: 350px;line-height: 350px;text-align:center;display: none;}
        #content-list li.active{display: block;}
    </style>
</head>
<body>
<div id="pagination">
    <div id="btn-list">
        <button>1</button>
        <button>2</button>
        <button>3</button>
    </div>
    <ul id="content-list">
        <li class="active">1</li>
        <li>2</li>
        <li>3</li>
    </ul>
</div>
<script>
   // function Tab(btnSelector,contentSelector,pagesSelector){
   //     this.btns = document.getElementById(btnSelector).children;
   //     this.contents =document.getElementById(contentSelector).children;
   //     this.pages = document.getElementById(pagesSelector)
   // }
   //
   // Tab.prototype.init = function (){
   //   for(var i =0,btn;btn = this.btns[i];i++){
   //       btn.addEventListener("click" ,this.changeContent.bind(this,i));
   //       btn.addEventListener("click",this.addRandomColor.bind(this,i));
   //   }
   // };
   //
   // //改变按钮下的内容
   // Tab.prototype.changeContent=function(index,e){
   //   var e = e || event;
   //   var target = e .target || e.srcElement;
   //   for(var i =0,content; content =this.contents[i++];){
   //       content.className ="";
   //   }
   //     this.contents[index].className = "active";
   // };
   //
   // Tab.prototype.addRandomColor=function(index,e){
   //     var e = e || event;
   //     var target = e. target || e.srcElement;
   //     //按钮随机背景颜色
   //     this.btns[index].style.backgroundColor=getRandomColor();
   //     //pages随机背景颜色
   //     this.pages.style.backgroundColor =getRandomColor();
   // };
   //
   // function getRandomColor(){
   //     var r = Math.round(Math.random()*255);
   //     var g = Math.round(Math.random()*255);
   //     var b = Math.round(Math.random()*255);
   //     return  "rgb("+r+","+g+", "+b+")"
   // }
   //
   // var tab = new Tab("btn-list","content-list",'pagination');
   // tab.init();


   //练习2
//    function Tab(btnSelector,contentSelector,pagesSelector){
//        this.btns = document.getElementById(btnSelector).children;
//        this.contents =document.getElementById(contentSelector).children;
//        this.pages = document.getElementById(pagesSelector);

//    }
//    Tab.prototype.init = function(){
//      for(var i =0, btn;btn=this.btns[i];i++){
//          btn.addEventListener('click',this.changeContent.bind(this,i));
//          btn.addEventListener('click',this.addRandomColor.bind(this,i));
//      }
//    };
//    Tab.prototype.changeContent=function(index,e){
//        var e = e || event;
//        var target  =e. target || e.srcElement;
//        for(var i =0, content;content = this.contents[i++];){
//             content.className = '';
//        }
//        this.contents[index].className = "active";
//    };
    // Tab.prototype.addRandomColor =function(index,e){
    //     var e = e || event;
    //     var target = e.target || e.srcElement;
    //     this.btns[index].style.backgroundColor =getRandomColor();
    //     this.contents[index].style.color = getRandomColor();
    //     this.pages.style.backgroundColor = getRandomColor();
    // };
//    function getRandomColor(){
//            var r = Math.round(Math.random()*255);
//            var g = Math.round(Math.random()*255);
//            var b = Math.round(Math.random()*255);
//            return  "rgb("+r+","+g+", "+b+")"
//        }
//    var tab = new Tab("btn-list","content-list",'pagination');
//    tab.init();



   class Tab{
       constructor(btnSelector,contentSelector,pagesSelector){
            this.btns = document.getElementById(btnSelector).children;
            this.contents =document.getElementById(contentSelector).children;
            this.pages = document.getElementById(pagesSelector);
       }
       init(){
            for(var i =0, btn;btn=this.btns[i];i++){
            btn.addEventListener('click',this.changeContent.bind(this,i));
            btn.addEventListener('click',this.addRandomColor.bind(this,i));
        }
    }
    changeContent(index,e){
        var e = e || event;
        var target  =e. target || e.srcElement;
        for(var i =0, content;content = this.contents[i++];){
                content.className = '';
        }
        this.contents[index].className = "active";
    }
    addRandomColor(index,e){
        var e = e || event;
        var target = e.target || e.srcElement;
        this.btns[index].style.backgroundColor =getRandomColor();
        this.contents[index].style.color = getRandomColor();
        this.pages.style.backgroundColor = getRandomColor();
    }
}
function getRandomColor(){
           var r = Math.round(Math.random()*255);
           var g = Math.round(Math.random()*255);
           var b = Math.round(Math.random()*255);
           return  "rgb("+r+","+g+", "+b+")"
       }
   var tab = new Tab("btn-list","content-list",'pagination');
   tab.init();
</script>
</body>
</html>