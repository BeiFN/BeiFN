<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title> 
    <style>
        li{
              list-style-type: none;
        }
        *{
              margin: 0;
              padding: 0;
        }

        li{
              padding: 3px 5px;
              border-bottom: 2px solid #ddd;
              text-align: center;
              width: 80%;
              margin: 5px auto;
              background: #fff;
        }
        ul{
              background: #ddd;
        }
  
  </style>
</head>
<body>
    <ul>
        <li class="lilili"><span>这 <i>是</i> 一个带有事件的li</span></li>
        <li><span>这是一个带有事件的li</span></li>
        <li class="lilili">这是一个带有事件的li</li>
        <li class="lilili">这是一个带有事件的li</li>
        <li class="lilili">这是一个带有事件的li</li>
        <li class="lilili">这是一个带有事件的li</li>
        <li class="lilili">这是一个带有事件的li</li>
        <li class="lilili">这是一个带有事件的li</li>
        <li class="lilili">这是一个带有事件的li</li>
        <li class="lilili">这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
        <li>这是一个带有事件的li</li>
  </ul>
  <script>
      var ul = document.querySelector("ul");
      ul.addEventListener("click",delegation(handerClick,".lilili"));
      function delegation(handerClick,selector){
        return function(evt){
            var eleList = this.querySelectorAll(selector);
            var e = evt || event;
            var target = e.target || e.srcElement;
            var _temp = target;
            var targetFamily = [];
            while(true){
                if(_temp === this){
                    break;
                }
                targetFamily.push(_temp);
                _temp = _temp.parentNode;
            }
            for(var i = 0,ele;ele = eleList[i++];){
                if(targetFamily.length === 1 ? (target === ele ):(targetFamily.indexOf(ele) != -1)){
                    handerClick.call(ele);
                    break;
                }
            }
            //console.log(target.className,selector);
            // if(target.className === selector){
            //     handerClick(target);
            // }
        }
      }

function handerClick(){
    //console.log(this);
    this.style.background = "yellowgreen";
}
  </script>
</body>

</html>


