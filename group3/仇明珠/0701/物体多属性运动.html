<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #box {
            width: 100px;
            height: 100px;
            background: #ddd;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div id="box"></div>
    <script>
        var box = document.getElementById("box");
        box.addEventListener("click", function () {
            move(box, {
                "width": 400,
                "height": 500,
                "opacity": 30
            })
        })
        function move(dom, options, callback) {
            clearInterval(dom.timer);
            dom.timer = setInterval(function () {
                for (var attr in options) {
                    if(attr === "opacity" ){
                        var iNow=parseInt(getComputedStyle(dom)[attr] * 100)
                    }else{ 
                        var iNow =parseInt(getComputedStyle(dom)[attr]);
                        
                    }
                    var speed = (options[attr] - iNow) / 10;
                    speed=speed>0?Math.ceil(speed):Math.floor(speed);
                    if (iNow === options[attr]) {
                        delete options[attr];
                        if (Object.keys(options).length == 0) {
                            clearInterval(dom.timer);
                        }
                    }else {
                        if(attr === "opacity"){
                                          dom.style[attr] = (iNow + speed) / 100;
                                    }else{
                                          dom.style[attr] = iNow + speed + "px";
                                    }
                        // dom.style[attr] = (attr === "opacity" ? (iNow + speed) / 100 : iNow + speed + "px");
                    }
                }
            }, 50)
        }

    </script>
</body>

</html>