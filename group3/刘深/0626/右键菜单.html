<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
            #list{
                  width: 100px;
                  
                  background: blue;
                  position: absolute;
                  left: 0;
                  top: 0;
                  display: none;
            }
            ul li{
                text-align: center;
                list-style: none;
                margin-top:3px; 
            }
            .booklist{

                width: 100px;
                margin-left:100px; 
            }
            .booklist h4{text-align: center;}
      </style>
</head>
<body>
        <ul class="booklist">
                <h4>请选择书籍</h4>
                <li>斗破苍穹</li>
                <li>武动乾坤</li>
                <li>大主宰</li>
                <li>神墓</li>
                <li>完美世界</li>
                <li>遮天</li>
                <li>绝世武神</li>
                <li>武炼巅峰</li>
                <li>逆天邪神</li>
                <li>仙武帝尊</li>
          </ul>
    
        <ul id="list">
                <li>复制</li>
                <li>粘贴</li>
                <li>剪切</li>
                <li>删除</li>
        </ul>
    <script>
        var list = document.getElementById("list");
        var selectTarget = null;
        var cloneEle = null;
        document.addEventListener("contextmenu",showlist);
        function showlist(evt){
            var e =evt || event;
            list.style.display = "block";

            list.style.left = e.clientX + "px"
            list.style.top = e.clientY + "px"
            e.preventDefault ? e.preventDefault() : e.returnValue = false;
            //选中元素
            var target = e.target || e.srcElement;
            selectTarget ? selectTarget.style.background = "":"";
            selectTarget = target;
            selectTarget.style.background = "pink";
        }
        document.addEventListener("click", hidelist)
        function hidelist(){
           list.style.display = "none"; 
        }

        list.addEventListener("click" , targetChoices);
        function targetChoices(evt){
            e = evt || event;
            var target = e.target || e.srcElement;
            switch(target.innerHTML)
            {
                case "删除" :
                    selectTarget.remove();
                    break;
                case "复制" :
                    cloneEle = selectTarget.cloneNode(true);//克隆；true克隆所有后代
                    // cloneEle.style.cssText = "display:block";
                    break;
                case "粘贴" :
                    selectTarget.appendChild(cloneEle);
                    break;
                case "剪切" :
                    cloneEle = selectTarget;
                    break;

                    


            }
        }
    </script>
</body>
</html>