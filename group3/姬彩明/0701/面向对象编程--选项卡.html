<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>面向对象编程选项卡</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        li {
            list-style: none;
        }

        .container{
            margin:100px auto;
            width:200px;
        }
        .btns {
            display: flex;
            width: 200px;
            height: 50px;
            background: #aaa;
        }

        .btns>li {
            height: 50px;
            float: left;
            flex: 1;
            line-height: 50px;
            text-align: center;
            border:1px solid #ddd;
            border-collapse: collapse;
            color:yellow;
            cursor: pointer;
        }
        .btns>li.active{
            background:red;
            color:green;
        }
        .contents{
            width:200px;
            height:200px;
        }
        .contents>li{
            width:200px;
            height:200px;
            display:none;
            line-height: 200px;
            text-align: center;
            background: #ddd;
            color:violet;
            font-size: 25px;
            font-weight: 600;
        }
        .contents>li.active{
            display:block;
            
        }
    </style>
</head>

<body>
    <div class = "container">
        <ul class="btns">
            <li>1</li>
            <li>2</li>
            <li>3</li>
        </ul>
        <ul class="contents">
            <li class = "active">1</li>
            <li>2</li>
            <li>3</li>
        </ul>
    </div>
    <script>
        function Tab(btnSelector,contentSelector){
            this.btns = Array.from(document.querySelector(btnSelector).children)
            this.contents = Array.from(document.querySelector(contentSelector).children)
        }
        Tab.prototype.init = function (){
            this.btns.forEach((item,index)=>{
               item.addEventListener("click",this.changeIndex.bind(this,index))
               item.addEventListener("click",this.changeBackgroundColor.bind(this,index))
            })
        }
        Tab.prototype.changeIndex = function (index){
            this.contents.forEach((item)=>{
                item.className = ""
            })
            this.contents[index].className = "active"
        }
        Tab.prototype.changeBackgroundColor = function(index){
            this.contents[index].style.backgroundColor = "#"+Math.round(parseInt("ffffff",16)*Math.random()).toString(16).padStart(6,"0")
            this.contents[index].style.color = "#"+Math.round(parseInt("ffffff",16)*Math.random()).toString(16).padStart(6,"0")
            this.btns.forEach((item)=>{
                item.className = ""
            })
            this.btns[index].className ="active"
        }
        var tab = new Tab(".btns",".contents")
        tab.init()
    </script>
</body>

</html>