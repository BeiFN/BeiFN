<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <form action="javascript:void(0)">
        <span>用户名:</span>
        <input type="text" id="username">
        <span>密码:</span>
        <input type="text" id="password">
        <span>邮箱:</span>
        <input type="text" id="email">
        <button>提交</button>
    </form>
    <script>
        var username = document.getElementById("username");
        var password = document.getElementById("password");
        var email = document.getElementById("email");
        username.addEventListener("blur",validateUsername);
        password.addEventListener("blur",validatePassword);
        email.addEventListener("blur",validateEmail);
        function validateUsername(){
            var value=this.value;
            var reg=/^[\u4e00-\u9fa5a-z0-9_\-]{4,20}$/;
            if(reg.test(value)){
                if(/^\d+$/.test(value) || /\-$/.test(value)){
                    this.style.borderColor="red";
                }
                else{
                    this.style.borderColor="yellowgreen";
                }
            }
            else{
                this.style.borderColor="red";
            }
        }
        function validatePassword(){
            var value=this.value;
            var reg=/^[\!\@\#\$\%\^\&\*\(\)0-9a-z_\-]{6,}$/i;
            if(reg.test(value)){
                this.style.borderColor="yellowgreen";
                //验证密码强度
                var score=0;
                if(/\d/.test(value)){
                    score++;
                }
                if(/[a-z]/i.test(value)){
                    score++;
                }
                if(/[\!\@\#\$\%\^\&\*\(\)\_\-]/.test(value)){
                    score++;
                }
                switch(score){
                    case 1 :
                        this.style.borderColor="red";
                        break;
                    case 2 :
                        this.style.borderColor="orange";
                        break;
                    case 3 :
                        this.style.borderColor="yellowgreen";
                        break;
                    default : 
                        this.style.borderColor="red";
                }
            }
            else{
                this.style.borderColor="red";
            }
        }
        function validateEmail(){
            var value=this.value;
            var reg=/^[0-9a-z_]\w{5,19}@[a-z0-9]{2,10}\.(com|cn|net)$/i;
            if(reg.test(value)){
                this.style.borderColor="yellowgreen";
            }
            else{
                this.style.borderColor="red";
            }
        }
    </script>
</body>

</html>