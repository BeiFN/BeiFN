<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #box{
              width: 100px;
              height: 100px;
              background: #ddd;
              position: absolute;
              left: 700px;
              top: 0;
        }
        #btn{
              position: absolute;
              top: 200px;
              left: 0;
        }
        #line{
              position: absolute;
              left: 600px;
              width: 1px;
              height: 500px;
              background: #000;
        }
  </style>
</head>
<body>
    <div id="box"></div>
    <div id="line"></div>
    <button id="btn">开始运动</button>
    <script>
        
        var box = document.getElementById("box");
        var line = document.getElementById("line");
        var btn  = document.getElementById("btn");
        var timer = null;
        var speed = 3;
        var g     = 0.5;
        var _speed = 0;
        //加速运动
        btn.addEventListener("click",handlerClick);
        function handlerClick(){
            var target = line.offsetLeft;
            timer = setInterval(function(){

                speed += g
                _speed = box.offsetLeft < target ? speed : -speed;
                box.style.left = box.offsetLeft + _speed + "px";
                
                if (Math.abs(box.offsetLeft - target) < speed){
                        box.style.left  = target + "px";
                        clearInterval(timer);
                    }




                // if(box.offsetLeft < target){
                //     box.style.left = box.offsetLeft + speed + "px";
                //     if (target-box.offsetLeft < speed){
                //         box.style.left  = target + "px";
                //         clearInterval(timer);
                //     }
                // }else{
                //     box.style.left = box.offsetLeft - speed + "px";
                //     if (box.offsetLeft - target < speed){
                //         box.style.left  = target + "px";
                //         clearInterval(timer);
                //     }
                // }
                // box.style.left = box.offsetLeft + speed + "px";
                // if(box.offsetLeft >= target){
                //     clearInterval(timer);     不能完美到达终点
                // }
                // if (target-box.offsetLeft < speed){
                //     box.style.left  = target + "px";
                //     clearInterval(timer);
                // }
            } , 50)
        }

        //缓冲运动
        //元素位置 距离 目标点越近 ， 速度越慢;
        
        // var box = document.getElementById("box");
        // var line = document.getElementById("line");
        // var btn  = document.getElementById("btn");
        // var timer = null ;
        // var targets = line.offsetLeft;
        //一切的起始点都是以点击按钮  绑定事件
        // btn.addEventListener("click",move);
        // function move(){
        //     clearInterval(timer)
        //     console.log(targets);
        //     timer = setInterval(function(){
        //         var speed = (targets - box.offsetLeft) / 20;
        //         speed = speed > 0 ? Math.ceil( speed ) : Math.floor( speed );
        //         if ( box.offsetLeft == targets){
        //             clearInterval(timer)
        //         }else{
        //             box.style.left = box.offsetLeft + speed + "px";
        //         }

        //     },50)
        // }
    
    
    
    </script>
</body>
</html>