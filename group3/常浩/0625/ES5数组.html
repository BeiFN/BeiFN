<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //forEach  可以用来遍历数组 其参数是函数 函数的参数是三个：item、 index、 arr  其没有返回值得 返回值是undefined
        // var arr = [1,2,3,4,5,6,7,8,9];
        // arr.forEach( foo );
        // function foo(item,index,arr){
        //     console.log(item,index,arr);
        // }
        //myForEach 的封装
        // function myForEach(arr,fn){
        //     for(var i = 0; i < arr.length ; i ++ ){
        //         fn(arr[i],i,arr);
        //     }
        // }
        // myForEach(arr,function(item,index,arr){
        //     console.log(item , index , arr);
        // })

        //map 返回一个新数组，新数组之中装的是参数函数的值；
        // var arr = [1000,2000,5000,10000,12000,70000];
        // var newArray = arr.map(function(item,index){
        //     return item* 1.3;
        // })
        // console.log(newArray);
        
        //map的封装 
        // function myMap(arr,fn){
        //     var res = [];
        //     for(var i = 0 ; i < arr.length ; i ++){
        //         res.push( fn(arr[i],i,arr) );
        //     }
        //     return res;
        // }
        // console.log(myMap(arr,function(item,index){
        //         return item*1.3;
        // }))

        //filter 返回新数组，会根据参数函数的返回值判定是否该将具体的项加新的数组；
        // var newArray = arr.filter(function(item , index){
        //     return item >5000;
        // }) 
        // console.log(newArray); // [10000, 12000, 70000]

        // filter的封装
        // function myFilter(arr,fn){
        //     var res = [];
        //     for(var i = 0 ; i < arr.length ; i ++){
        //         if(fn(arr[i],i , arr)){
        //             res.push(arr[i])
        //         }
        //     }
        //     return res ;
        // }
        // console.log(myFilter(arr,function(item,index){
        //     return item > 5000;
        // }))
        //  其是否要加入新数组是函数判定的   所以为true的时候我们往里面添加

        // some 判定数组中是否存在某个符合条件的 ； 一旦函数返回true那么some就会终止循环，并且返回true；
        // var boolean = arr.some(function(item,index,arr){
        //     return item === 5000
        // })
        // console.log(boolean); //true

        // some 的封装
        // function mySome(arr , fn){
        //     for(var i = 0 ; i < arr.length ; i ++){
        //         if(fn(arr[i] , i , arr)){
        //             return true ;
        //         }
        //     }
        //     return false ;
        // }
        // console.log(mySome(arr,function(item,index){
        //           return item === 5000;
        // }))

        // every 寻找数组中不符合条件的 ，一旦函数返回false 那么every就会终止循环
        // var boolean = arr.every(function( item , index , arr){
        //         return item % 2 === 0;
        // })

        // every 的封装 
        // function myEvery( arr , fn){
        //     for(var i = 0 ; i < arr.length ; i++){
        //         if(!fn(arr[i],i,arr)){
        //                 return false
        //         }
        //     }
        //     return true;
        // }

        // reduce  函数累计处理
        // var res = arr.reduce(function(pre , now , index , arr){
        //         console.log(pre,now ,index);
        //         return pre + now;
        // })

        // console.log(res);
        // function myReduce( arr , fn ){
        //       var prev = arr[0];
        //       for(var i = 1 ; i < arr.length ; i++){
        //             prev = fn( prev , arr[i] , i , arr);
        //       }
        //       return prev;
        // }
        // console.log(myReduce( arr , function(prev,now , index){
        //       return prev + now;
        // } ))

        // flat 数据扁平化
        var  arr = [
            [1,2,3,4,5,6],
            [2,3,4,5,6,7]
        ]
        // console.log(arr.flat());

        //flat 的封装
        function myFlat(arr){
           if(!(myFlat.res)){
                myFlat.res = [];
           }
           for( var i = 0 ; i < arr.length ; i ++){
               if(arr[i] instanceof Array){
                   myFlat(arr[i]);
               }else{
                   myFlat.res.push(arr[i]);
               }
           }
           return myFlat.res;
        }
        console.log(myFlat(arr));
    </Script>
</body>
</html>