<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    *{margin: 0;padding: 0};
    .card-box{
        float: left;
        position: relative;
        background: #fff;
        border-radius: 4px;
        margin: 0 20px 20px 0
    }
    .card-box {
        float: left;
        position: relative;
        background: #fff;
        border-radius: 4px;
        margin: 0 20px 20px 0;
    }
    .card-box .card-img {
        position: relative;
        border-radius: 4px 4px 0 0
    }
    .card-info {
        border-bottom: 1px solid #eee;
        padding: 11px 16px 13px;
        height: 75px;
        position: relative;
    }
    .card-item {
        height: 50px;
        line-height: 50px;
        padding: 0 16px;
        font-size: 12px;
        position: relative;
    }
    .album-card-box .card-info .card-info-title, .card-box .card-info .card-info-title {
        margin-bottom: 1px;
        position: relative;
        height: 20px;
        line-height: 20px;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }
    .album-card-box .card-info .card-info-type, .card-box .card-info .card-info-type {
        font-size: 12px;
        color: #bbb;
        margin-bottom: 17px;
        height: 18px;
    }
    .album-card-box .card-info .card-info-item, .card-box .card-info .card-info-item {
        font-size: 12px;
        color: #bbb;
        position: absolute;
        bottom: 14px;
    }

    </style>
</head>
<body>
    <div class="card">
        
    </div>

    <script type="text/html" id="template">
        <% for(var attr in data){ %>
            <div class="card-img"><img src="<%= data[attr].cover %>" alt=""></div>
            <div class="card-info">
                <p class="card-info-title"><%= data[attr].title %></p>
                <p class="card-info-type"><%= data[attr].title %></p>
                <p class="card-info-item"></p>
            </div>
            <div class="card-item"></div>
        <% } %>
    </script>



    <script src="../libs/ejs.js"></script>
    <script>
        function ajax(url,cb){
            var xhr = new XMLHttpRequest();//获取对象
            xhr.open("GET",url);//打开（配置）   
            xhr.send(null);//发送
            xhr.onreadystatechange = function(){//状态--事件监听
                if(xhr.readyState === 4 && xhr.status === 200){
                        // console.log(xhr.responseText);
                        cb(xhr.responseText);
                }
            }
        }

        ajax("http://localhost/qianguangrong/0710/zcool.json",function(){
            var card = document.querySelector(".card");
            res = JSON.parse(res);//将数据转换为 JavaScript 对象。
            var res = ejs.render(document.getElementById("template").innerHTML , {data : res.data.contents})
            console.log(res);

            card.innerHTML = res;
         
        })
    </script>
</body>
</html>