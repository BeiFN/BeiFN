<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>表单验证</title>
</head>
<body>
    <!-- 可扩展性 -->
    <!-- <form action="" id="form"> -->
    <form action="javascript:void(0)" id="form">
        <p>
            <span>邮箱：</span>
            <input type="text" id="email">
        </p>

        <p>
            <span>用户名：</span>
            <input type="text" id="usename">
        </p>

        <p>
            <span>密码：</span>
            <input type="text" id="password">
        </p>

        <button id="btn">提交</button>

    </form>

    <script>
        var btn = document.getElementById("btn");
        var form = document.getElementById("form");
        btn.onclick=function(){
            console.log("1");
        }
        form.onsubmit = function(evt){
            var e = evt || window.event;
            e.preventDefault();
        }

//选择器
        function $(seletor){
            var res = null;
            return (res = document.querySelectorAll(seletor)).length===1? res[0] :res;
        }
//变量
        var email = $("#email");
        var usename = $("#usename");
        var password = $("#password");

        function ValidityEmail(){
            console.log(this.value);
            var value = this.value;
            var res = /^[0-9a-z]\w{5,19}@[a-z0-9]{2,10}\.(com|cn|net)$/i;
            // 1.取值
            // 2.规则 正则
            // 3.test 反馈
            if(res.test(value)){
                this.style.borderColor = "#ddd";
            }else{
                this.style.borderColor = "red";

            }

        }

        function ValidityUseName(){
            // 正则中文
            // \u4e00  \u9fa5a
            var reg = /^[\u4e00-\u9fa5a-z0-9\-]{4,20}$/i;
        }

        function ValidityPassword(){
            var value = this.value;
            var reg = /^[\!\@\#\$\%\^\&\*\(\)0-9a-z_\-]{6,}$/i;
            if(reg.test(value)){
                this.style.borderColor = "#ddd";
                var score = 0;
                if(/\d/.test(value)){
                    console.log("xxxxx");
                    score++;
                }
                if(/[a-z]/i.test(value)){
                    score++;
                }
                if(/[\!\@\#\$\%\^\&\*\(\)\-_]]/.test(value)){
                    score++;
                }
                switch(score){
                    case 1: {}break;
                    case 2: {}break;
                    case 3: {}break;
                }
            }else{
                this.style.borderColor = "red";

            }
        }

// 业务

        email.addEventListener("blur",ValidityEmail);
        usename.addEventListener("blur",ValidityUseName);
        password.addEventListener("blur",ValidityPassword);
    </script>
</body>
</html>