<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>选项卡</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #pagination{
            width: 100px;
            height: 300px;
            background: #ddd;
            margin: 0 auto;
        }
        #btn-list{
            width: 100%;
            height: 100px;
            text-align: center;
            background: #333;
            line-height: 100px;
        }
        #btn-list button{
            width: 30px;
            height: 30px;
        }
        #content-list{
            width: 100px;
            height: 200px;
            line-height: 200px;
            background: #f00;

        }
        #content-list li{
            display: none;
            text-align: center;
            background: #0f0;

        }
        #content-list .active{
            display: block;
        }
    </style>
</head>
<body id="body">
    <div id="pagination">
        <div id="btn-list">
            <button>1</button>
            <button>2</button>
            <button>3</button>
        </div>
        <ul id="content-list">
            <li class="active">1</li>
            <li>2</li>
            <li>3</li>
        </ul>
    </div>

    <script>
        class Table{
            constructor({btnSe="btn-list",contSe="content-list"}={}){
                console.log("constructor", this);
                console.log(document);
                this.btns = document.getElementById(btnSe).children;
                this.conts = document.getElementById(contSe).children;
                this.init();
            }
            init(){
                console.log("init",this);
                for(var i=0,btn; btn= this.btns[i];i++){
                    // btn.addEventListener("click",this.handlerContent);//该语句为btn触发事件为实例中的方法属性handlerContent
                    btn.addEventListener("click",this.handlerContent.bind(this,i));
                    // 实例对象中的目标元素，调用原型的属性方法（实例和原型的关系可以看成是实参和形参的关系，实际调用init方法的是实例），并使用bind方法将指向btn的指针this指向实例

                    btn.addEventListener("click",this.changeColor.bind(this,i));
                }
            }

            // 给原型对象添加事件处理方法属性
            handlerContent(index,evt){
                var e = evt ||window.event;
                var target = e.target ||e.srcElement;
                for(var i=0,cont; cont = this.conts[i++];){
                    cont.className = "";
                }
                this.conts[index].className = "active";

            }

            changeColor(index,evt){
                var btn = this.btns[index];
                btn.style.backgroundColor = "#"+Math.round(parseInt("ffffff",16)*Math.random()).toString(16).padStart(6,"0");
            }
        }
        
        new Table({btnSe:"btn-list",contSe:"content-list"});

        function randomColorFuc(){
            console.log(parseInt(Math.pow(16,6)*Math.random()).toString(16).padStart(6,"0"));
            console.log(parseInt(Math.round(parseInt("ffffff",16)*Math.random()).toString(16).padStart(6,"0")));
            return "#" + parseInt(Math.pow(16,6)*Math.random()).toString(16).padStart(6,"0");
        }
        randomColorFuc();
        
    </script>
</body>
</html>