<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        span{
            color: red;
        }
    </style>
</head>
<body>
    <button id="btn">开始游戏</button>
    <div id="container">

    </div>

    <script>
        // 人物初始数据
		var someone = {
			name : "一个虚拟人物",
			hp : 100
		}
		// 人物异常事件列表
		var eventList = [
			{
			 type : "吃了一颗毒蘑菇" ,
			 harm : 20
			},
			{
			 type : "走路崴了脚" ,
			 harm : 2
			},
			{
			 type : "淋雨感了冒",
			 harm : 5
			}
		]

		// 人物死亡方式列表
		var dieList = [ "狗带了" , "玩完了", "去世了" ];

        
        
        function hanlderClick(){
            var dieList = [ "狗带了" ,"玩完了","去世了"];
            var html = "";
            do{
                var randomInt = getRandomInt(0,eventList.length - 1);
                someone.hp -= eventList[randomInt].harm;
                if(someone.hp > 0){
                html += "<p>" +
                              someone.name + ""+
                              "因为 "+ "<span>"+
                              eventList[randomInt].type +"</span>"+
                              "而减少了"+
                              eventList[randomInt].harm + 
                              "血量剩余" +
                              someone.hp + "hp" 
                        "</p>"
                }else{
                    html += "<p>" +
                              someone.name + ""+
                              "因为 "+ "<span>"+ eventList[randomInt].type +"</span>"+
                              "而减少了"+
                              eventList[randomInt].harm + "血量。"
                        // "</p>"
                }
                container.innerHTML = html;
                console.log(someone.hp);

            }while(someone.hp > 0){
                //终止游戏;
                html += 
                        // "<p>" +
                            // someone.name + ""+"因为 "+ 
                            // eventList[randomInt].type +"而减少了"+ 
                            // eventList[randomInt].harm + "hp" + 
                            dieList[getRandomInt(0,2)]+
                            "。游戏结束" +
                        "</p>"
                container.innerHTML = html;
                someone.hp = 100;
                html = "";
            }
        }
        function getRandomInt(min,max){
            return min +Math.round(Math.random()*(max-min));
        }
        btn.onclick = hanlderClick;

    </script>
    
</body>
</html>