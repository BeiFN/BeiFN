<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #num1{
        width : 300px;
        }
    </style>
    
</head>
<body>

        <input type="text" id="num1" placeholder="请按照“20190617”格式输入日期"/>
        <input type="button" value="计算" id="btn">


    <script>

        btn.onclick = function(){
            console.log(num1.value);
            if(num1.value.length !== 8){
                alert("日期格式不正确");
            }else if(isNaN(Number(num1.value))){
                alert("日期格式不正确");
            }else{
                var date1 = Number(num1.value);
                var str = sumDate(date1);
                num1.value = str;
            }
        }
        
        // var date = 20150311;
        function sumDate(date){
            var nYear1 = parseInt(date/10000);
            
            var nMouth1 = parseInt( (date-nYear1*10000)/100);
            var nDay1 = date%100;
            var isRN = true;
            if(nMouth1 > 12){
                alert("月份应小于12");
                return "";
            }
            if(nDay1 > 31){
                alert("日期应小于31");
                return "";
            }
            console.log(nYear1,nMouth1,nDay1);
            if((nYear1%4===0 && nYear1%100!=0) || nYear1%400==0){
                
            }else{
                isRN = false;
            }
            switch(nMouth1){
                case 1: {return ("这是"+nYear1+"年的第"+nDay1+"天");}break;
                case 2: return ("这是"+nYear1+"年的第"+(nDay1+31)+"天");break;
                case 3:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+28+31)+"天");
                    }
                } break;
                case 4:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+31+28+31)+"天");
                    }
                }break;
                case 5:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+28+31)+"天");
                    }
                }break;
                case 6:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+31+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+31+30+31+28+31)+"天");
                    }
                }break;
                case 7:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+30+31+28+31)+"天");
                    }
                }break;
                case 8:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+31+30+31+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+31+30+31+30+31+28+31)+"天");
                    }
                }break;
                case 9:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+31+31+30+31+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+31+31+30+31+30+31+28+31)+"天");
                    }
                }break;
                case 10:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+31+30+31+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+31+30+31+30+31+28+31)+"天");
                    }
                }break;
                case 11:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+31+30+31+31+30+31+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+31+30+31+31+30+31+30+31+28+31)+"天");
                    }
                }break;
                case 12:
                {
                    if(isRN){
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+30+31+31+30+31+30+31+29+31)+"天");
                    }else{
                        return ("这是"+nYear1+"年的第"+(nDay1+30+31+30+31+31+30+31+30+31+28+31)+"天");
                    }
                }break;
                default:break;
            }
        }

        // var btn = document.getElementById("saveB");
        
    </script>
</body>
</html>