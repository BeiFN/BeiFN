**小组成员： 陈荣强 张朋伟 陆凤妹  郑则栋 李红贵 李林 韩卫静 尹亚亭 李红霞  徐佳伟  刘彪  高展飞 李策  文君豪**

**组       长： 张朋伟**


####第5周
## 问题1: MySQL创键数据库时，连接名是用来干嘛的？只是个单纯分组吗？
![image.png](https://upload-images.jianshu.io/upload_images/2845301-bcccfe89f42d841d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



#问题2： 数据库遍历while循环中的=号怎么理解？ 感觉赋值 和 判断等于都不太像。
```javascript
      $sql_select = "SELECT username FROM gptest";

      if($result = mysqli_query($conn,$sql_select)){
            // 查看存在多少条数据;
            // echo mysqli_num_rows($result);

            // 拿出每一条数据;
            while($row = mysqli_fetch_assoc($result)){
                  echo json_encode($row);
            }

      }else{
            echo mysqli_error($conn);
      };
```

## 问题3: MySQL创键数据库时，连接名是用来干嘛的？只是个单纯分组吗？
![image.png](https://upload-images.jianshu.io/upload_images/2845301-bcccfe89f42d841d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

* 你可能会链接很多的数据库, 用仓库名区分链接的是哪个数据库。


#问题4： 数据库遍历while循环中的=号怎么理解？ 感觉赋值 和 判断等于都不太像。

* 赋值

- 如果说一个方法的返回值既要判断又要在后面编程之中进行使用，那么这个时候我们通常用一个小技巧来处理这样的问题;

* 基本模型
```javascript
      let a ; 
      if( a = foo() ){
            console.log(a);
      }
```

```javascript
      $sql_select = "SELECT username FROM gptest";

      if($result = mysqli_query($conn,$sql_select)){
            // 查看存在多少条数据;
            // echo mysqli_num_rows($result);

            // 拿出每一条数据;
            while($row = mysqli_fetch_assoc($result)){
                  echo json_encode($row);
            }

      }else{
            echo mysqli_error($conn);
      };
```

#问题5： 可以一次给表添加(插入)多条数据(记录)吗？如果可以的话，该怎么添加呢？

```mysql
      insert into 表 
      (字段 1 , 字段 2, 字段 3, 字段 4)
      values
      (200,'haha' , 'deng' , 'shenzhen'),
      (201,'haha2' , 'deng' , 'GD'),
      (202,'haha3' , 'deng' , 'Beijing');

```

#问题6:  php解析器位于什么地方,是和js解析器一样在浏览器里吗?还是在服务器里?

* 都不是
* PHP 是一个独立的环境。 
* 只不过 服务器碰到 .php 后缀的请求会调用 cgi 去使用php解析器解析代码;

## 问题7: ajaxpost封装，报405不允许错误的原因，没理解， 老师源码在我本地换个路径也这样，而其他请求都正常。
ajaxpost.html:41 POST http://localhost/0710/data.txt?data=1 405 (Not Allowed)


## 问题8: 后台服务器可以获取前端传过去的key值吗？ 后台写的固定key值'callback'，那封装中的cb_fild是不是可以省略？

* 什么是服务器 ? http服务 ;  nginx , apache , iis , nodejs , ...
```javascript
      http://www.baidu.com/v2/search?wd=hello&p=10#aaa
      协议  
             域名 
                          query(告知服务器路径)
                                     search(GET协议携带的数据) 
                                                   hash(前端用的页面传值)
```
* 解析数据 (字段值) 语言解析器来做的。
      协议携带的数据 > GET | POST 


* 后台写的固定key值'callback'，那封装中的cb_fild是不是可以省略
      可以这么操作但是不建议, 因为你的jsonp封装是面向所有使用场景的。
```php
<?php
      $cbname = $_GET['callback'];
      $data = "hello world";
      echo "$cbname('$data')";
?>
```
```javascript
function jsonp(url,cb_fild,callback){
      var GLOBAL_CB = "foo"
      // 1.全局函数;
      window[GLOBAL_CB] = function (res){
	//声明一个任意的全局函数,去调用我们需要调用的回调函数callback,该函数运行没有任何结果，只是用来传值
            callback(res)
      }
      // 2. 发送请求; 
      var script = document.createElement("script");
      url += /\?/.test(url) ? "&" : "?";
      script.src = url + cb_fild + "=" + GLOBAL_CB;
console.log(url + cb_fild + "=" + GLOBAL_CB);
      script.onload = function(){
            this.remove();
      }
      document.body.appendChild(script);
}
```


##问题9 能否通过传入具名函数，获取到它的函数名字符串，如果可以这样的话，是不是可以省去设置全局函数调用回调函数的步骤？

* 高内聚 ， 低耦合 ;
* 严重耦合全局函数，封装的功能不独立。
  
```javascript
function trueCallback(res){
    console.log(22,res);
    console.log(arguments);
}
jsonpl("http://localhost/BaseServer/0711/jsonptruedata.php","trueCallback");

function jsonpl(url,calback){
    var script = document.createElement("script");
    url += /\?/.test(url) ? "&":"?";
    console.log(url);
    url = url + "fooname"+"="+calback;
    console.log(url);
    script.src = url;
    script.onload = function(){
        this.remove();
    }
    document.body.appendChild(script);
}
```

##问题10 promise连缀那里听得不太明白，具体是咋运用，请智哥再讲一下。
```javascript
      let promise = new Promise( (resolve , reject) => {
            setTimeout( a => {
                  console.log(1);
                  resolve();
            },1000)
      })
      // promise Promise resolver 
      let promise2 = promise.then( res => {
            return new Promise( ( resolve , reject ) => {
                  setTimeout( a => {
                        console.log(2);
                        resolve();
                  },1000)
            })
      })
      // 返回值是一个新的状态机 ;
      promise2.then( res => {

      })
```

##问题11  实际开发中，如果是和后台联调，服务器不在本机时，使用ajax请求时，如何让本地代码和后台服务器同源？ 

 * nginx 
 
## 问题12  智哥 能讲下TOKEN 与cookie 的关系，domain与path 的关系吗?

* token => 一种字符串加密和构成规范。 就是把 对象 里面的数据进行编码 。
> 证明你登陆了, 携带一些特殊的信息。

* cookie => 是一种浏览器端的本地存储技术。我们可以利用http去进行设置;
> 我们把token存在cookie之中。

* domain 域 !  http://*www.baidu.com*
* path   路径  http://www.baidu.com*/error/page/1*

## 问题13  免登陆案例中，为什么修改了utils里面的代码，但在浏览器控制台sources里面，还是之前的utils代码，重启浏览器和服务器都一样，电脑重启后代码正常，是浏览器缓存原因吗？该怎么处理？

* 就是浏览器缓存 : 外联的文件都会缓存; 
* 两次请求同一路径( js , css ) ; 
* 解决方案 : 我们让浏览器感觉不一样就行了 http://www.baidu.com/script.js?_时间戳 可以避免缓存;
* 手动清除缓存 ctrl + shift + delete 

