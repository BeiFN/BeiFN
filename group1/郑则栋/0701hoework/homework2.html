<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>面向对象</title>
		      <style>
		      *{
		            margin: 0;
		            padding: 0;
		            font-size: 30px;
		      }
		      li{
		            list-style-type:none;
		      }
		      #pagination{
		            background: #ddd;
		            width: 300px;
		            height: 400px;
		            margin: 0 auto;
		      }
		      #btn-list{
		            width: 100%;
		            height: 50px;
		            text-align: center;
		            background: #b6b6b6;
		            line-height: 50px;
		      }
		      #btn-list button{
		            padding: 0 20px;
		      }
		      #btn-list button.active{
		            background: yellowgreen;
		      }
		      #content-list li{
		            width: 300px;
		            height: 350px;
		            line-height: 350px;
		            text-align:center;
		            display: none;
		      }
		      #content-list li.active{
		            display: block;
		      }
		</style>
	</head>
	<body>
		
		<div id="pagination">
		      <div id="btn-list">
		            <button>1</button>
		            <button>2</button>
		            <button>3</button>
		      </div>
		      <ul id="content-list">
		            <li class="active">1</li>
		            <li>2</li>
		            <li>3</li>
		      </ul>
		</div>
		
		<script type="text/javascript">
			function Foo(){
				this.btns=document.getElementById("btn-list").children;
				this.contents=document.getElementById("content-list").children;
				console.log(this.contents);
			}
			Foo.prototype.init=function(){
				for(var i=0,btn;btn=this.btns[i++];){
					btn.addEventListener("click",this.changecontent.bind(this,i-1));
					btn.addEventListener("click",this.changeBtn.bind(this,i-1));
				}
			}
			Foo.prototype.changecontent=function(index){
				for(var i=0,content;content=this.contents[i++];){
					content.className="";
				}
				this.contents[index].className="active";
			}
			Foo.prototype.changeBtn=function(index){
				for(var i=0,btn;btn=this.btns[i++];){
					btn.style.background="";
				}
				var rgb=this.random.call(this);
				console.log(rgb);
				this.btns[index].style.background=rgb;
			}
			Foo.prototype.random=function(){
				var r=parseInt(Math.random()*255);
				var g=parseInt(Math.random()*255);
				var b=parseInt(Math.random()*255);
				var rgb="rgb("+r+","+g+","+b+")";
				return rgb;
			}
			
			
			
			var foo=new Foo();
			foo.init("btn-list","content-list");
			
			
		</script>
		
		
		
	</body>
</html>
