<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>search</title>
    <style>
        body,
        html {
            height: 100%;
        }
    </style>
</head>

<body>
    <input type="text" id="ipt">
    <div id="content">

    </div>

    <script>
        function fn(url, data) {
            return new Promise((resolve, reject) => {
                let grobleFunction = 'bd_cb_dict3_1562832569067';
                window[grobleFunction] = function (res) {
                    resolve(res);
                }
                let data_arr = '';
                if (typeof data === 'object') {
                    for (let attr in data) {
                        data_arr += (data_arr.length > 0 ? '&' : '') + attr + '=' + data[attr];
                    }
                }
                else {
                    data_arr = data;
                }

                let script = document.createElement('script');
                url += (/\?/.test(url) ? '&' : '?') + data_arr;
                console.log(url);
                script.src = url;
                script.onload = function () {
                    this.remove();
                }
                document.body.appendChild(script);
            });
        }
        url = 'https://sp1.baidu.com/5b11fzupBgM18t7jm9iCKT-xh_/sensearch';
        data = {
            wd: '哈哈',
            cb: 'bd_cb_dict3_1562832569067',
            callback: 'bd_cb_dict3_1562832569067',
            _: 1562832555
        }
      let ipt=document.getElementById('ipt');
        let content=document.getElementById('content');
        ipt.oninput=function(){
            data.wd=ipt.value;
            var html='';
            fn(url,data).then((res)=>{
            console.log(res);
                res.liju_result[1].forEach(element => {
                html+=`<p>${element[0]}</p>`;  
                });              
                content.innerHTML=html;
            });
            

        }





    </script>



</body>

</html>