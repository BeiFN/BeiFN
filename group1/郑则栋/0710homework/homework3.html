<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>观察者模式</title>
</head>
<body>
    

    <script>
        class Observer{
            constructor(name,age){
                this.name=name;
                this.age=age;
            }
            accept(mes){
                console.log(`my name is ${this.name},i am ${this.age} years old, and ,i like to ${mes} `);
            }
        }
        class Publisher{
            constructor(){
                this.list=[{
                    
                }];
            }
            publish(mes){
                this.list.forEach(obs=>{
                    obs.accept(mes);
                });
            }
            subscribe(obs){
               this.list.push(obs);
            }
            unsubscribe(obs){
                this.list.splice(this.list.indexOf(obs),1);
            }



        }
        var obs1=new Observer("rat",22);
        var obs2=new Observer("flower",22);
        var obs3=new Observer("smflower",25);
        var pub=new Publisher();
        pub.subscribe(obs1);
        pub.subscribe(obs2);
        pub.subscribe(obs3);
        
        
        
        
        
        
        </script>




</body>
</html>