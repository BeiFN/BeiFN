<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>封装cookie</title>
</head>

<body>

    <script>
        // function cookie(key, value, {
        //     expires,path,domain,secure

        // }={}) {
        //     if (arguments.length === 1) {
        //         let [s, a] = [document.cookie.split('; '), ''];
        //         a = s.filter((item) => { item.split('=')[0] === key });
        //         // console.log(a);
        //         return a.length === 0 ? '' : a.split('=')[1];
        //     }
        //     return document.cookie=[
        //         key + "=" + value,
        //         expires ? ";expires=" + ((d = new Date()).setDate(d.getDate() + expires) && d) : "",
        //         path ? ";path=" + path : "",
        //         domain ? ";domain=" + domain : "",
        //         secure ? ";secure=" + secure : ""
        //     ].join('');

        // }

        function cookie( 
            name , value ,
            { 
                  expires,
                  path ,
                  domain,
                  secure
            } = { }
      ){    
            // 获取cookie;
            if( arguments.length === 1){
                  let a = document.cookie.split("; ");
                  let res='';
                  res = a.filter( item => item.split("=")[0] === name);
                  return res.length === 0 ? "404NOT FOUND" : res[0].split("=")[1];
            }
            // 设置cookie;
            return (document.cookie = [
                  name + "=" + value,
                  expires ? ";expires=" + ((d = new Date()).setDate(d.getDate() + expires) && d ): "",
                  path    ? ";path="    +  path   : "",
                  domain  ? ";domain="  +  domain : "",
                  secure  ? ";secure="  +  secure : ""
            ].join(""))
      }
      function reomvecookie(name,path=''){
            cookie(name,"",{
                  path,
                  expires:-1
            });
      }
      //   cookie('name','flower',{
      //       expires:2
      //   });
        reomvecookie('flower');

    </script>



</body>

</html>