<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style type="text/css">
        .ball {
            width: 10px;
            height: 10px;
            background: radial-gradient(#fff, #000);
            border-radius: 50%;
            position: absolute;
            /* transition: all 1s; */
        }
    </style>
</head>
<body>
    
    <script>
    class bollMove{
        constructor(selector){
			this.ele = selector.nodeType === 9 ? selector : document.querySelector(selector);
            this.init();
        }
        init(){
            this.timer = null;
			this.cwidth = document.documentElement.clientWidth;
			this.cHeight = document.documentElement.clientHeight;
			this.ele.addEventListener("mousedown", this.dealCreate.bind(this));
			this.ele.addEventListener("mouseup", this.dealStopCreate.bind(this));
			this.ele.addEventListener("mousemove", this.changeOffset.bind(this));
        }
        dealCreate(){
            this.timer = setInterval(function() {
					var boll = this.createBool();
					setTimeout(function() {
						this.randomPosition(boll);
					}.bind(this), 100);

				}.bind(this), 100);
        }
        dealStopCreate(){
				clearInterval(this.timer);
        }
        createBool(){
            var randomColor = this.randomColor();
				var boll = document.createElement("div");
				boll.className = "ball";
				boll.style.left = this.offsetX + "px";
				boll.style.top = this.offsetY + "px";
				boll.style.background=randomColor;
				boll.style.transition = "all 1s";
				document.body.appendChild(boll);
				return boll;
        }
        changeOffset(eve){
            var e = eve || event;
				this.offsetX = e.clientX;
				this.offsetY = e.clientY;
        }
        randomPosition(boll){
            var x = Math.round(Math.random() * this.cwidth);
				var y = Math.round(Math.random() * this.cHeight);
				// this.ball.style.transition="all 1s";

				boll.style.left = x + "px";
				boll.style.top = y + "px";
				console.log(x, y);
				setTimeout(function() {
					boll.remove();
				}.bind(this), 1000);
        }
        randomColor(){
				return ("#" + Math.round(parseInt("ffffff", 16) * Math.random()).toString(16).padStart(6, "0"));

        }
    }


   new bollMove(document);
    </script>


</body>
</html>