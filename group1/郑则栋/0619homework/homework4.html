<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>简易年历</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			li {
				list-style: none;
				padding: 20px;
			}

			body {
				background: #eee;
			}

			label {
				display: inline-block;
				width: 100px;
				padding-right: 40px;

			}

			label>p {
				color: #FF0000;
				float: right;
			}

			#safe_grade {
				height: 22px;
				display: inline-block;
			}

			#safe_grade p {
				float: left;
				height: 22px;
				width: 50px;
				border-left: 1px solid #ddd;
				border-top: 1px solid #ddd;
				border-bottom: 1px solid #ddd;
			}

			#safe_grade:last-child {
				border-right: 1px solid #ddd;
			}
			.color_red{
				background: red;
			}
			.color_yellow{
				background: yellow;
			}
			.color_green{
				background: green;
			}
		</style>
	</head>
	<body>
		<ul class="informationList">
			<li> <label>姓名 <p>*</p></label> <input type="text" name="name" value="" /><br></li>
			<li> <label>密码<p>*</p></label> <input type="password" name="name" value="" /><br></li>
			<li> <label>重复密码<p>*</p></label> <input type="password" name="name" value="" /><br></li>
			<li> <label>安全等级<p>*</p></label>
				<div id="safe_grade">
					<p></p>
					<p></p>
					<p></p>
				</div>
			</li>
			<li><button type="button" id="btn">确认注册</button></li>
		</ul>

		<script type="text/javascript">
			document.getElementById("btn").onclick = check_it;
			var safeGrade=document.getElementById("safe_grade");
			var inpSomething = document.querySelectorAll(".informationList li input");
			function check_it() {
				//判断用户名
				if (inpSomething[0].value.length < 6 || inpSomething[0].value.length > 20) {
					alert("Your name is too short or long");
					return;
				}
				if (!(inpSomething[0].value.charCodeAt() >= 65 && inpSomething[0].value.charCodeAt() <= 90 || inpSomething[0].value
						.charCodeAt() >= 97 && inpSomething[0].value.charCodeAt() <= 120)) {
					alert("please use apl in start!");
				}
				for (var i = 0, sp; sp = inpSomething[0].value[i++];) {
					if (!(sp.charCodeAt() >= 65 && sp.charCodeAt() <= 90 || sp.charCodeAt() >= 97 && sp.charCodeAt() <= 122 || sp.charCodeAt() >=
							49 && sp.charCodeAt() <= 57 | sp.charCodeAt() == 95)) {
						alert("亲，只能用字母下划线数字哦，嘤嘤嘤");
						return;
					}
				}
				//判断密码强度
				var strong = 0;
				var num = 1,
					apl = 1,
					sym = 1;
				if (inpSomething[1].value.length < 6 || inpSomething[1].value.length > 20) {
					alert("Your password is too short or too long");
					return;
				}
				for (var j = 0, sp; sp = inpSomething[1].value[j++];) {
					if (num==1) {
						if (sp.charCodeAt() >= 48 && sp.charCodeAt() <= 57) {
							strong++;
							num--;
						}
					}
					if (apl==1) {
						if (sp.charCodeAt() >= 65 && sp.charCodeAt() <= 90 || sp.charCodeAt() >= 97 && sp.charCodeAt() <= 122) {
							strong++;
							apl--;
						}
					}
					if (sym==1) {
						if (!(sp.charCodeAt() >= 48 && sp.charCodeAt() <= 57||sp.charCodeAt() >= 65 && sp.charCodeAt() <= 90 || sp.charCodeAt() >= 97 && sp.charCodeAt() <= 122)) {
							strong++;
							sym--;
						}
					}

				}
				if(inpSomething[1].value!=inpSomething[2].value){
					alert("两次密码不一致，请重新输入");
					return;
				}
				for (var k=0;k<3;k++){
					safeGrade.children[k].className="";
				}
				switch(strong){
					case 1: safeGrade.children[0].className="color_red";break;
					case 2: safeGrade.children[1].className="color_yellow";break;
					case 3: safeGrade.children[2].className="color_green";break;
				}
			}
		</script>

	</body>
</html>
