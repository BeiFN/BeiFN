<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>任意物体运动</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			div {
				float: left;
				width: 100px;
				height: 100px;
				background: red;
				margin: 20px;
			}
		</style>
	</head>
	<body>
		<div id="box1">

		</div>
		<div id="box2">

		</div>
		<div id="box3">

		</div>


		<script type="text/javascript">
			var obox1 = $("#box1");
			var obox2 = $("#box2");
			var obox3 = $("#box3");
			obox1.onmouseover = function() {
				change(this,400,"width");
			}
			obox2.onmouseover = function() {
				change(this,400,"height");
			}
			obox3.onmouseover = function() {
				change(this,0.4,"opacity");
			}
			function change(ele,target,attr){
				if(attr==="opacity"){
				changeOpacity(ele,target,attr);
				}
				else{
					ChangeEasy(ele,target,attr);
				}
			}
		function changeOpacity(ele,target,attr){
			var _temp=target*100;
			ele.timer=setInterval(function(){
				var iNode=getComputedStyle(ele)[attr]*100;
				var speed=(_temp-iNode)/10;
				console.log(iNode,_temp);
				if(parseInt(iNode/10)===parseInt(_temp/10)){
					clearInterval(ele.timer);
				}
				else{
					ele.style[attr] =(iNode+ speed)/100;
					// console.log(ele.style[attr]);
				}
			},100);
			
		}
		function ChangeEasy(ele,target,attr){
			ele.timer=setInterval(function(){
				var iNode=parseInt(getComputedStyle(ele)[attr]);
				var speed=(target-iNode)/10;
				speed>0?speed=Math.ceil(speed):speed=Math.floor(speed);
				if(target===iNode){
					clearInterval(ele.timer);
				}
				else{
					ele.style[attr]=iNode+ speed+"px";
				}
			},100);
			
			
		}



			function $(selector) {
				var res = null;
				return (res = document.querySelectorAll(selector)).length === 1 ? res[0] : res;
			}
		</script>
	</body>
</html>
