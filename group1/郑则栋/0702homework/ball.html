<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>

		<style type="text/css">
			.ball {
				width: 10px;
				height: 10px;
				background: radial-gradient(#fff, #000);
				border-radius: 50%;
				position: absolute;
				/* transition: all 1s; */
			}
		</style>
	</head>
	<body>

		<script type="text/javascript">
			function Pris(selector) {
				this.ele = selector.nodeType === 9 ? selector : document.querySelector(selector);

				console.log(this.ele);
				this.init();
			}
			Pris.prototype.init = function() {
				this.timer = null;
				this.cwidth = document.documentElement.clientWidth;
				this.cHeight = document.documentElement.clientHeight;
				this.ele.addEventListener("mousedown", this.dealCreate.bind(this));
				this.ele.addEventListener("mouseup", this.dealStopCreate.bind(this));
				this.ele.addEventListener("mousemove", this.changeOffset.bind(this));
			}
			Pris.prototype.dealCreate = function() {
				this.timer = setInterval(function() {
					var boll = this.createBool();
					setTimeout(function() {
						this.randomPosition(boll);
					}.bind(this), 100);

				}.bind(this), 100);
			}
			Pris.prototype.dealStopCreate = function() {
				clearInterval(this.timer);
			}
			Pris.prototype.createBool = function() {
				var randomColor = this.randomColor();
				var boll = document.createElement("div");
				boll.className = "ball";
				boll.style.left = this.offsetX + "px";
				boll.style.top = this.offsetY + "px";
				boll.style.background=randomColor;
				boll.style.transition = "all 1s";
				document.body.appendChild(boll);
				return boll;

			}
			Pris.prototype.changeOffset = function(eve) {
				var e = eve || event;
				this.offsetX = e.clientX;
				this.offsetY = e.clientY;
			}
			Pris.prototype.randomPosition = function(boll) {
				var x = Math.round(Math.random() * this.cwidth);
				var y = Math.round(Math.random() * this.cHeight);
				// this.ball.style.transition="all 1s";

				boll.style.left = x + "px";
				boll.style.top = y + "px";
				console.log(x, y);
				setTimeout(function() {
					boll.remove();
				}.bind(this), 1000);
			}
			Pris.prototype.randomColor = function() {
				return ("#" + Math.round(parseInt("ffffff", 16) * Math.random()).toString(16).padStart(6, "0"));
			}
			var table = new Pris(document);
		</script>

	</body>
</html>
