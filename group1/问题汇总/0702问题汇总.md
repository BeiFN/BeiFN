# **06.25**

**小组成员： 陈荣强 张朋伟 陆凤妹  郑则栋 李红贵 李林 韩卫静 尹亚亭 李红霞  徐佳伟  刘彪  高展飞 李策  文君豪**

**组       长： 张朋伟**


## 问题1: 轮播图从5到1后，点击页码往左滚动bug，如何修复？
```javascript
    /**
 * 实现的目标 :
 *    1. 点击按钮翻页;
 *    2. 点击分页器翻页;
 *    3. 多种动画效果;
 *    4. 自动播放;
 *  */

 // 程序之中必须要有 ,表示当前显示图片的坐标;  nowIndex;
 // 下一页 上一页 到达某页;

 // 1. 得有元素绑定事件 ;

 // 2. options => effect : fade | slide 
 //    1. 影响基础布局;
 //    2. 影响动画效果;


 Banner.prototype.toIndex = function(index){

      // 显示为假的第一张,点击真的第一张; 
      if(this.nowIndex === this.sliders.length - 1 && index == 0){
            return false;
      }
       
      this.nowIndex = index;
      // 显示为假的第一张 ,点击其他的内容;
      if(this.nowIndex !== 0 && this.nowIndex === this.sliders.length - 1){
            this.state = "changePage";
      }else{
            this.state = "normal";
      }
      
 }
 Banner.prototype.slide = function(){
     // 动画特殊处理 => toIndex 动画; 
      if(this.state === "changePage"){
            this.wrapper.style.left = 0;
            this.wrapper.style.transition = "top 1s";
      }
      switch(this.state){
            // 增加BUG解决动画;
            case "changePage":
                  setTimeout(function(){
                        this.wrapper.style.transition = "left 1s";
                        this.wrapper.style.left = -this.nowIndex * this.main.offsetWidth + "px"
                  }.bind(this) ,0) 
                  break;
            case "normal" : 
                  this.wrapper.style.left = 0;
                  this.wrapper.style.transition = "left 1s";
                  setTimeout(function(){
                        this.wrapper.style.left = -this.nowIndex * this.main.offsetWidth + "px"
                  }.bind(this) , 0) 
                  break;
            case "changeFirst":
                  this.wrapper.style.transition = "top 1s";
                  this.wrapper.style.left = 0;
                  setTimeout(function(){
                        this.nowIndex ++;
                        this.state = "normal";
                        this.slide();
                  }.bind(this),0);
                  break;
            case "changeLast" :
                  this.wrapper.style.transition = "top 1s";
                  this.wrapper.style.left = -(this.sliders.length - 1)* this.main.offsetWidth + "px";
                  setTimeout(function(){
                        this.nowIndex --;
                        this.state = "normal";
                        this.slide();
                  }.bind(this),0)
      }

 }

```


##问题2  为什么第一次点击左侧按钮打印不出0，也就是为啥第一次进不去if判断？
![image.png](https://upload-images.jianshu.io/upload_images/2845301-d3f1b315c2fb8968.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

```javascript
    后面有操作index的for循环删除掉就好了;
```