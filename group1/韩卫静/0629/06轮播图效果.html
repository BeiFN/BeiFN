<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{margin: 0; padding: 0;}
			a{text-decoration: none;}
			#containor{
				width: 200px;
				height: 100px;			
				position: relative;
				top: 10px;
				left: 50%;
				overflow: hidden;
				/* margin-left: -100px; */
			}
			#picList{width: 1400px; height: 100px; position: absolute; left: 0;}
			#picList div{
				width: 200px;
				height: 100px;
				float: left;
				text-align: center;
			}
			.box1{background-color: cadetblue}
			.box2{background-color: coral}
			.box3{background-color: antiquewhite}
			.box4{background-color: blueviolet}
			.box5{background-color: crimson}
			#left_btn, #right_btn{
				width: 30px;
				height: 30px;
				border-radius: 15px;
				position: absolute;
				background-color: #CCFF33;
				z-index: 9999;
			}
			#left_btn{
				top: 35px;
				left: 5px;
			}
			#right_btn{
				top: 35px;
				right: 5px;
			}
			#bar{
				width: 125px;
				height: 20px;
				position: absolute;
				bottom: 2px;
				left: 40px;
			}
			#bar span{
				float: left;
				height: 20px;
				width: 20px;
				font-size: 12px;
				border-radius: 10px;
				text-align: center;
				line-height: 20px;
				margin-right: 5px;
				transition: all 0.5s;
			}
			.normal{
				color: #000000;
				background-color: #ddd;
			}
			.check{
				color: #ddd;
				background-color: #282828;
			}
		</style>
		
	</head>
	<body>
		<div id="containor">
			<div id="picList">
				<div class="box5">5</div>
				<div class="box1">1</div>
				<div class="box2">2</div>
				<div class="box3">3</div>
				<div class="box4">4</div>
				<div class="box5">5</div>
				<div class="box1">1</div>
			</div>
			<div id="left_btn"> </div>
			<div id="right_btn"> </div>
			
			<div id="bar">
				<span class="normal">1</span>
				<span class="normal">2</span>
				<span class="normal">3</span>
				<span class="normal">4</span>
				<span class="check">5</span>
			</div>
		</div>
		
		<script type="text/javascript">
			var leftBtn = document.getElementById("left_btn");
			var rightBtn = document.getElementById("right_btn");
			var piclist = document.getElementById("picList");
			var bar = document.getElementById("bar");
			var count = 0;
			var timer = null;
			
			leftBtn.onclick = function(){
				if(count === 0){
					piclist.style.left = "-1000px";
					count = -5
				}
				move((++count)*200 , piclist ,"left");
				countLight(Math.abs((count-4)%5 ));
			}
			rightBtn.onclick = function(){
				if(count === -6){
					piclist.style.left = "-200px";
					count = -1;
				}
				move((--count)*200, piclist ,"left");
				countLight(Math.abs((count-4)%5 ));
			}
			
			function move(target ,ele ,attr){
							
				clearInterval(ele.timer);
				ele.timer = setInterval(function(){
					var offsetleft = parseInt(getComputedStyle(ele)[attr]);
					
					// console.log(offsetleft);		
					var speed = (target - offsetleft )/ 10 ;
					speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);			
					if(target === offsetleft){
						console.log(offsetleft);
						clearInterval(timer);
					}else{
						piclist.style.left = offsetleft + speed + "px";
					}
				},50);
			}
			
			function countLight(count){
				spanlist = bar.children;
				console.log(spanlist);
				for(var i = 0 ; i < spanlist.length;i++){
					console.log(spanlist[i]);
					spanlist[i].className = "normal";
					if(i === count){
						spanlist[i].className = "check";
					}
				}
			}
		</script>
	</body>
</html>
