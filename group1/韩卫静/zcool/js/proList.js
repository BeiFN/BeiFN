
var json = {
    "workList" : [
        //1
        {
            "imaUrl":"https://img.zcool.cn/community/0131645d03a753a801205e4b6b9c7a.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"写给设计师看的广告史10：伯恩巴克让设计师从此站起来了！",
            "infoType":"文章-观点-平面",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/04c5e3561f0e670000017347b5a8a3.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"赵义",
            "cardTime":"19小时前"
        },
        //2
        {
            "imaUrl":"https://img.zcool.cn/community/01ff505d0344b3a801205e4bdd19cf.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"Hi～我是爱画画的小麦 日本旅行手帐～终于完成啦～",
            "infoType":"插画-其他插画",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/04bbb855af07f3000001ef49adadf8.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"小麦咖啡",
            "cardTime":"一天前"
        },
        //3
        {
            "imaUrl":"https://img.zcool.cn/community/01ee755d031c23a801213ec2d70c2c.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"少女阿初",
            "infoType":"插画-商业插画",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/00b8ba599befa5a801201794eaa991.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"爱画画的随随",
            "cardTime":"19小时前"
        },
        //4
        {
            "imaUrl":"https://img.zcool.cn/community/01ad8f5d03433ea801213ec23816f2.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"启示录",
            "infoType":"影视-短片",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/00518c5a30f32aa80120ba383189ad.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"绿豆大人",
            "cardTime":"19小时前"
        },
        //5
        {
            "imaUrl":"https://img.zcool.cn/community/01734f5d023546a801213ec2200ea4.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"第一卫6周年庆典开场视频",
            "infoType":"三维-动画/影视",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://zcool.oss-cn-beijing.aliyuncs.com/community/01e1b75d031240a801205e4bd84ea1.jpg%4080w_80h_1c_1e_1o_100sh.jpg?Expires=1560603185&OSSAccessKeyId=lwQTEmwHzzSWSkqd&Signature=tyl1WL2vUTaxfD0noRIMnND6%2FNA%3D",
            "cardName" :"巨点世界",
            "cardTime":"一天前"
        },
        //6
        {
            "imaUrl":"https://img.zcool.cn/community/011f2a5d024b96a801213ec2c84428.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"站酷摄影师的2019年国家地理摄影大赛获奖作品",
            "infoType":"摄影-风光",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/0099c2593e2c1fa8012193a3098ef4.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"看看世界",
            "cardTime":"一天前"
        },
        //7
        {
            "imaUrl":"https://img.zcool.cn/community/01e7645d0341e4a801213ec2e3b6b9.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"恭喜傲霸，喜提“孩子”一只。",
            "infoType":"动漫-中/长篇漫画",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/00e5dc5a531fc3a80120c2b089b262.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"插画师白茶",
            "cardTime":"一天前"
        },
        //8
        {
            "imaUrl":"https://img.zcool.cn/community/01262d5d021808a801213ec2ec599c.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"青璃H5-遇见你的世界",
            "infoType":"网页-移动端网页",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/04d4d6553fbedf00000140278edaec.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" : "speeddesigner",
            "cardTime":"一天前"
        },

        //1
        {
            "imaUrl":"https://img.zcool.cn/community/0131645d03a753a801205e4b6b9c7a.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"写给设计师看的广告史10：伯恩巴克让设计师从此站起来了！",
            "infoType":"文章-观点-平面",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/04c5e3561f0e670000017347b5a8a3.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"赵义",
            "cardTime":"19小时前"
        },
        //2
        {
            "imaUrl":"https://img.zcool.cn/community/01ff505d0344b3a801205e4bdd19cf.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"Hi～我是爱画画的小麦 日本旅行手帐～终于完成啦～",
            "infoType":"插画-其他插画",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/04bbb855af07f3000001ef49adadf8.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"小麦咖啡",
            "cardTime":"一天前"
        },
        //3
        {
            "imaUrl":"https://img.zcool.cn/community/01ee755d031c23a801213ec2d70c2c.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"少女阿初",
            "infoType":"插画-商业插画",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/00b8ba599befa5a801201794eaa991.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"爱画画的随随",
            "cardTime":"19小时前"
        },
        //4
        {
            "imaUrl":"https://img.zcool.cn/community/01ad8f5d03433ea801213ec23816f2.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"启示录",
            "infoType":"影视-短片",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/00518c5a30f32aa80120ba383189ad.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"绿豆大人",
            "cardTime":"19小时前"
        },
        //5
        {
            "imaUrl":"https://img.zcool.cn/community/01734f5d023546a801213ec2200ea4.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"第一卫6周年庆典开场视频",
            "infoType":"三维-动画/影视",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://zcool.oss-cn-beijing.aliyuncs.com/community/01e1b75d031240a801205e4bd84ea1.jpg%4080w_80h_1c_1e_1o_100sh.jpg?Expires=1560603185&OSSAccessKeyId=lwQTEmwHzzSWSkqd&Signature=tyl1WL2vUTaxfD0noRIMnND6%2FNA%3D",
            "cardName" :"巨点世界",
            "cardTime":"一天前"
        },
        //6
        {
            "imaUrl":"https://img.zcool.cn/community/011f2a5d024b96a801213ec2c84428.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"站酷摄影师的2019年国家地理摄影大赛获奖作品",
            "infoType":"摄影-风光",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/0099c2593e2c1fa8012193a3098ef4.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"看看世界",
            "cardTime":"一天前"
        },
       
        //8
        {
            "imaUrl":"https://img.zcool.cn/community/01262d5d021808a801213ec2ec599c.jpg@260w_195h_1c_1e_1o_100sh.jpg",
            "infoTitle":"青璃H5-遇见你的世界",
            "infoType":"网页-移动端网页",
            "cardSee":"6783",
            "cardComment":"45",
            "cardAgree":"899",
            "headimgUrl":"https://img.zcool.cn/community/04d4d6553fbedf00000140278edaec.jpg@80w_80h_1c_1e_1o_100sh.jpg",
            "cardName" :"speeddesigner",
            "cardTime":"一天前"
        }
    ]
}


var listBody = document.getElementById("list_body");

for(var i = 0 ,item; item = json.workList[i++];){
	var hidJson = {
		hiddenDiv : {
			type : "div",
			attr : { id : "hiddenCard" },
			children : [
				{
					type : "a",
					attr : {href : "#" , "class" : "hc_pic" },
					children : [
						{type : "img", attr : { src : item.headimgUrl, alt : "" } }
					]
				},
				{
					type : "div",
					attr : {"class" : "hc_name"},
					children : [
						{type : "a",attr: {href : "#"}, html : item.cardName }
					]
				},
				{
					type : "div",
					attr : {"class" : "hc_place"},
					children : [
						{type : "span", html : "北京 | 设计爱好者" }
					]					
				},
				{
					type : "div",
					attr : {"class" : "hc_follow"},
					children : [
						{
							type : "span",
							attr : {"class" : "hc_work"},
							children :[
								{type : "i",html : "作品"},
								{type : "a",attr: {href : "#"}, html : "111"}				
							]
						},
						{
							type : "span",
							attr : {"class" : "hc_fans"},
							children :[
								{type : "i",html : "粉丝"},
								{type : "a",attr: {href : "#"}, html : "2233"}				
							]
						}
					]					
				},
				{
					type : "div",
					attr : {"class" : "btn"},
					children:[
						{
							type : "button",
							attr : { id : "hc_gofollow"},
							html : "关注"
						},
						{
							type : "button",
							attr : { id : "hc_gochat"},
							html : "私信"
						}
					]
				}
			]
		}
	}
	var hiddendiv = createEle(hidJson.hiddenDiv);
	
	var liJson = {
		li : {
			type : "li",
			children : [
				{
					type : "img",
					attr : {
						src : item.imaUrl,
						alt : ""
					}
				},
				{
					type : "div",
					attr : {"class" : "card_info"},
					children : [
						{
							type : "p",
							attr : {"class" : "card_info_title"},
							children : [
								{
									type : "a",
									attr : {href : "#"},
									html : item.infoTitle
								}
							]
						},
						{
							type : "p",
							attr : {"class" : "card_info_type"},
							html : item.infoType
						},
						{
							type : "p",
							attr : {"class" : "card_info_com"},
							children : [
								{
									type : "span",
									attr : {"class" : "card_see"},			
									html :item.cardSee 
								},
								{
									type : "span",
									attr : {"class" : "card_comment"},		
									html :item.cardComment 
								},
								{
									type : "span",
									attr : {"class" : "card_agree"},
									html :item.cardAgree 
								}
							]
						}
					]
				},
				{
					type : "div",
					attr : { "class" : "card_uper" },
					children : [
						{
							type : "span",
							attr : { "class" : "card_uper_name" },
							children : [
								{
									type : "a",
									attr : { href : "#" },
									children : [
										{
										type : "img" ,
										attr : { src : item.headimgUrl }
										},
										{
											type : "i",
											html : item.cardName
										}
									]
								},
								hiddendiv
							]
						},
						{
							type : "span",
							attr : { "class" : "card_uper_time" },
							html : item.cardTime
						}
					]
				}
			]
		}
	}
	var li = createEle(liJson.li);
   listBody.appendChild(li);
   
}

function createEle(json){
	typeof json === "undefined" ? json = {} :"";
	var ele = document.createElement(json.type ? json.type : "div");
	for(a in json.attr){
		ele.setAttribute(a,json.attr[a]);
	}
	
	for(var i =0, childEle ; json.children && (childEle = json.children[i++]);){
		childEle.nodeType === 1? ele.appendChild(childEle):ele.appendChild(createEle(childEle));
	}
	
	json.html ? ele.innerText = json.html:"" ;
	return ele;
}
// 
// listBody.addEventListener("mouseover",delegation(handlerClick,".card_uper_name"))
// function delegation(handlerClick , selector ){
// 	  return function(evt){
// 			var eleList = this.querySelectorAll(selector);
// 			var e = evt || window.event;
// 			var target = e.target || e.srcElement;
// 			var targetFamily = [];
// 
// 			var _temp = target;
// 			var count = 0;
// 			while(true && count++ < 100){
// 				  if(_temp === this){
// 						break;
// 				  }
// 				  targetFamily.push(_temp)
// 				  _temp = _temp.parentNode
// 			}
// 			for(var i = 0 , ele ; ele = eleList[i++]; ){
// 				  if( targetFamily.length === 1 ? (target === ele) : (targetFamily.indexOf(ele) !== -1) ){
// 						handlerClick.call(ele,e);
// 						break;
// 				  }
// 			}
// 	  }
// }
// function handlerClick(e){
// 	var hid = this.children;
// 	console.log(hid);
// }

// <div id="hiddenCard">
// 	<a href="#" class="hc_pic"></a>
// 	<div class="hc_name">
// 		<a href="#">feirenzai</a>
// 	</div>
// 	<div class="hc_place">
// 		<span>beij | hasjhuusy</span>
// 	</div>
// 	<div class="hc_follow">
// 		<span class="hc_work">作品 <a href="#">111</a></span>
// 		<span class="hc_fans">粉丝 <a href="#">62156</a></span>
// 	</div>
// 	<div class="btn">
// 		<button type="button" id="hc_gofollow">关注</button>
// 		<button type="button" id="hc_gochat">私信</button>
// 
// 	</div>
// </div>

