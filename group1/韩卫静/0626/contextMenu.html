<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>右键菜单高级写法</title>
		<style>
			*{
				margin: 0;
				padding: 0;
			}
			#rightMenu{
				width: 150px;
				border: 2px solid  #88F;
				background-color: #fff;
				border-radius: 4px;
				box-shadow: 0 0 5px #ddd;
				position: absolute;
				display: none;
			}
			li{list-style: none;}
			#rightBtn li{
				height: 50px;
				line-height: 50px;
				text-align: center;
				border-bottom: 1px dashed #333;
				transition: all 0.3s;
			}
			#rightBtn li:hover {
				background-color: #88f;
				box-shadow: 0 0 5px #ccc;
			}
			#leftList{
				float: left;
			}
			#rightList{
				float: left;
			}
			#box li{
				width: 100px;
				height: 50px;
				line-height: 50px;
				text-align: center;
				border-bottom: 1px dashed #666;
				margin-left: 5px;
				background-color: #ccc;
				transition: all 0.3s;
			}
			#box li:hover{
				background-color: #88f;
				box-shadow: 0 0 5px #ccc;
			}     
			
		</style>
	</head>
	<body>
		<div id="box">
		   <div id="leftList">
				<ul>
					<li>左01</li>
					<li>左02</li>
					<li>左03</li>
					<li>左04</li>
					<li>左05</li>
					<li>左06</li>
					<li>左07</li>
					<li>左08</li>
					<li>左09</li>
					<li>左10</li>
				</ul>
			</div>

			<div id="rightList">
				<ul>
					<li>右01</li>
					<li>右02</li>
					<li>右03</li>
					<li>右04</li>
					<li>右05</li>
					<li>右06</li>
					<li>右07</li>
					<li>右08</li>
					<li>右09</li>
					<li>右10</li>
				</ul>
			</div> 
		</div>
		

		<div id="rightMenu">
			<ul id="rightBtn">
				<li>复制</li>
				<li>粘贴</li>
				<li>剪切</li>
				<li>删除</li>
			</ul>
		</div>


		<script>
			var rightMenu = document.getElementById("rightMenu");
			var rightBtn = document.getElementById("rightBtn");

			var box = document.getElementById("box");
			var copyContainor = null;
			var seleteTarget = null;

			document.oncontextmenu = function(evt){
				var e = evt || window.event;
				e.preventDefault ? e.preventDefault() : e.returnValue = false;

				rightMenu.style.left = e.clientX + "px";
				rightMenu.style.top = e.clientY + "px";
				rightMenu.style.display = "block";

				var target = e.srcElement || e.target;
				if(target.nodeName === "LI"){
					seleteTarget = target;
					console.log(target.nodeName === "LI");
					
				}
			}
			document.onclick = function(){
				rightMenu.style.display = "none";
			}
			rightBtn.onclick = function(evt){
				var e = evt || window.event;
				var target = e.srcElement || e.target;
				var opt = target.innerText;

				switch(opt){
					case "复制":
						copyContainor = seleteTarget;
						// console.log(copyContainor);
						break;
					case "粘贴":
						seleteTarget.parentNode.insertBefore(copyContainor,seleteTarget);
						// console.log(copyContainor);
						break; 
					case "剪切":
						copyContainor = seleteTarget;
						seleteTarget.remove();
						// console.log(copyContainor);
						break; 
					case "删除":
						seleteTarget.remove();
						// console.log(copyContainor);
						break; 
					
				}
				// console.log(opt);
			}

		</script>
	</body>
</html>
