<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#con{
				width: 300px;
				height: 300px;
				background-color: #DDDDDD;
				margin: 0 auto;
			}
			#btnList{
				width: 100%;
				height: 100px;
				background-color: #282828;
				text-align: center;
				line-height: 100px;
			}
			#btnList button{
				padding: 5px 15px;
			}
			#cinList div{
				width: 300px;
				height: 200px;
				line-height: 200px;
				text-align: center;
				display: none;
			}
			#cinList div.chooseCon{
				display: block;
			}
			#btnList button.check{
				background-color: #fff;
				border: 1px solid #ddd;
				color: #282828;
			}
		</style>
	</head>
	<body>
		<div id="con">
			<div id="btnList">
				<button>1</button>
				<button>2</button>
				<button>3</button>
			</div>
			<div id="cinList">
				<div>111</div>
				<div>222</div>
				<div>333</div>
			</div>
		</div>
		
		<script type="text/javascript">
			// var conlist = document.getElementById("cinList").children;
			// var btnlist = document.getElementById("btnList").children;
			
			function changeCon(){
				this.conlist = document.getElementById("cinList").children;
				this.btnlist = document.getElementById("btnList").children;
			}
			
			changeCon.prototype.init = function(){
				for(var i = 0 , btn; btn = this.btnlist[i];i++){
					btn.addEventListener("click" , this.changeText.bind(this,i) );
					btn.addEventListener("click" , this.changeBtnStyle.bind(this,i));
				}
			}
			changeCon.prototype.changeText = function(index){
				for(var i = 0 , con; con = this.conlist[i];i++){
					con.className = "";
				}
				this.conlist[index].className = "chooseCon";
				this.conlist[index].style.background = getRandomColor();
			}
			changeCon.prototype.changeBtnStyle = function(index){
				for(var i = 0 , btn; btn = this.btnlist[i];i++){
					btn.className = "";
				}
				this.btnlist[index].className = "check";
			}
			var cc = new changeCon();
			cc.init();
			
			function getRandomColor(){
				var r = Math.round(Math.random() * 255);
				var g = Math.round(Math.random() * 255);
				var b = Math.round(Math.random() * 255);
				return "rgb(" + r + "," + g + "," + b + ")"
			}

		</script>
	</body>
</html>
