<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Document</title>
      <style>
            #share{
                  width: 100px;
                  height: 150px;
                  background: #ddd;
                  position: absolute;
                  left: -100px;
                  bottom:0;
            }
            #share span{
                  display: block;
                  width: 16px;
                  position: absolute;
                  right: -16px;
                  top: 50%;
                  margin-top: -26px;
                  background: #ddd;
            }
      </style>
</head>
<body>
      <div id="share">
            <span>
                  分享到
            </span>
      </div>
      <script>
           var share = document.getElementById("share");
           var timer = null;
      //      var speed = 5;
      //      share.addEventListener("mouseover",handlerMousemove);
      //      share.addEventListener("mouseout",handlerMousemoveout);
            share.addEventListener("mouseover",function(){
                  moving(0,5);
            });
            share.addEventListener("mouseout",function(){
                  moving(-100,8);
            })
            function moving(target,speed){
                  clearInterval(timer);
                  if(share.offsetLeft - target > 0){
                        speed = -speed;
                  }
                  timer = setInterval(function(){
                        if(share.offsetLeft === target){
                              clearInterval(timer);
                        }else{
                              if(Math.abs(target - share.offsetLeft) < Math.abs(speed) ){
                                    console.log(target)
                                    share.style.left = target +"px";
                              }
                              else{
                                    share.style.left = share.offsetLeft + speed + "px";
                              }
                        }
                  },50)
            }

            // share.addEventListener("mouseover",function(){
            //       clearInterval(timer);
            //       timer = setInterval(function(){
            //             if(share.offsetLeft === 0){
            //                   clearInterval(timer);
            //             }else{
            //                   share.style.left = share.offsetLeft + 5 + "px";
            //             }
            //       },50)
            // });
            // share.addEventListener("mouseout",function(){
            //       clearInterval(timer);
            //       timer = setInterval(function(){
            //             if(share.offsetLeft === -100){
            //                   clearInterval(timer);
            //             }else{
            //                   share.style.left = share.offsetLeft -5 +"px";
            //             }
            //       },50)
            // })

            /*
                  优化
            */
            // share.addEventListener("mouseover",function(){
            //       move(0);
            // });
            // share.addEventListener("mouseout",function(){
            //       move(-100);
            // });
            // function move(L){
            //       var speed = 5;
            //       if((L - share.offsetLeft) < 0){
            //             speed = -speed;
            //       }
            //       clearInterval(timer);
            //       timer = setInterval(function(){
            //             if(share.offsetLeft == L){
            //                   clearInterval(timer);
            //             }else{
            //                   share.style.left = share.offsetLeft + speed + "px";
            //             }
            //       },50)
            // }


      //      function handlerMousemove(){
      //            clearInterval(timer);
      //           timer = setInterval(Mouseover,50);
      //      }
      //      function Mouseover(){  
      //            if(share.offsetLeft === 0){
      //                   clearInterval(timer);                              
      //            }else{
      //                   share.style.left = share.offsetLeft + speed + "px";
      //            }
      //      }

      //      function handlerMousemoveout(){
      //            clearInterval(timer);
      //            timer = setInterval(Mouseout,50)
      //      }
      //      function Mouseout(){
      //            if(share.offsetLeft === -100){
      //                  clearInterval(timer);
      //            }else{
      //                  share.style.left = share.offsetLeft - speed + "px";
      //            }
      //      }
      </script>
</body>
</html>