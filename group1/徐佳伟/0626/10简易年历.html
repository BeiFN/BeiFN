<!DOCTYPE html PUBLIC "-//W3C//h2D XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/h2D/xhtml1-transitional.h2d">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JavaScript简易日历</title>
<style type="text/css">
* { padding: 0; margin: 0; }
li { list-style: none; }
body { background: #f6f9fc; font-family: arial; }

.calendar { width: 210px; margin: 0 auto; padding: 10px 10px 20px 20px; background: #eae9e9; }
.calendar ul { width: 210px; overflow: hidden; padding-bottom: 10px; }
.calendar li { float: left; width: 58px; height: 54px; margin: 10px 10px 0 0; border: 1px solid #fff; background: #424242; color: #fff; text-align: center; cursor: pointer; }
.calendar li h2 { font-size: 20px; padding-top: 5px; }
.calendar li p { font-size: 14px; }

.calendar .active { border: 1px solid #424242; background: #fff; color: #e84a7e; }
.calendar .active p { font-weight: bold; }

.calendar .text { width: 178px; padding: 0 10px 10px; border: 1px solid #fff; padding-top: 10px; background: #f1f1f1; color: #555; }
.calendar .text h2 {font-size: 14px; margin-bottom: 10px; }
.calendar .text p { font-size: 12px; line-height: 18px; }

</style>

</head>

<body>

<div id="tab" class="calendar">
<ul id="box">
	<li  class="active"><h2>1</h2><p>JAN</p></li>
	<li  ><h2>2</h2><p>FER</p></li>
	<li  ><h2>3</h2><p>MAR</p></li>
	<li  ><h2>4</h2><p>APR</p></li>
	<li  ><h2>5</h2><p>MAY</p></li>
	<li ><h2>6</h2><p>JUN</p></li>
	<li ><h2>7</h2><p>JUL</p></li>
	<li><h2>8</h2><p>AUG</p></li>
	<li><h2>9</h2><p>SEP</p></li>
	<li><h2>10</h2><p>OCT</p></li>
	<li><h2>11</h2><p>NOV</p></li>
	<li><h2>12</h2><p>DEC</p></li>
  </ul>
    
    <div class="text" id="txt">
        <h2>1月活动</h2>
        <p>快过年了，大家可以商量着去哪玩吧～</p>
    </div>

</div>
<script type="text/javascript">
	var ul = document.getElementById("box");
	ul.addEventListener("click",handlerClick);
	function handlerClick(evt){
		var e = evt || window.event;
		var target = e.target || e.srcElement;
		
		while(true){
			if(target.parentNode == null){
				break;
			}
			if(target.nodeName === "LI" ){		
				for(var i = 0 ; i < ul.children.length ; i ++ ){
					ul.children[i].className = "";
				}
				target.className = "active";
				break;
			}
			target = target.parentNode;
		
		}
		// while(true){
		// 	if(targetLi.parentNode == null){
		// 		break;
		// 	}
		// 	if(targetLi.nodeName === "LI" ){
		// 		target = targetLi;
		// 		for(var i = 0 ; i < ul.children.length ; i ++ ){
		// 			ul.children[i].className = "";
		// 		}
		// 		target.className = "active";
		// 		break;
		// 	}
			
		// 	targetArray.push(targetLi);
		// 	targetLi = targetLi.parentNode;
		// }
		
	}











	// 1. 事件按钮; 
	// 2. 月份;
	// 3. 提示内容;

	// 1. 给所有li添加点击事件,当点击发生的时候，元素变色。
	// var ele_lis = document.getElementById("box").children;
	// // console.log(ele_lis);
	// // 给每一个元素添加事件;
	// for(var i = 0 , li ; li = ele_lis[i++]; ){
	// 	li.onclick = function(){
	// 		// console.log("每一个li都有一个独立的函数");
	// 		// 先清除了所有li的className
	// 		// 内部循环是局部变量i和全局变量i没有任何关系;
	// 		for(var k = 0 ; k < ele_lis.length ; k ++){
	// 			ele_lis[k].className = "";
	// 		}
	// 		// 再给当前发生事件的li添加acitve;
	// 		this.className = "active";
	// 	}
	// }

	// 2. 点击按钮时，我要获取当前元素 this , 在 box 子集所在的下标;

	// for 执行速度非常快;  
	// 当页面打开的时候，我们for循环已经执行完了。
	// 函数什么时候被执行 ? 当用户点击的时候;
	// 一定是页面打开结束，用户才会点击按钮。
	// 总结 ： 当事件处理函数执行的时候,for循环一定执行完了。
	// 所以我们访问到的i是for循环自增了 13 次之后的 i;

	// var ele_lis = document.getElementById("box").children;
	// for(var i = 0 , li ; li = ele_lis[i++]; ){
	// 	console.log(li);
	// 	li.onclick = function(){
	// 		alert(li);//li为undefined是因为下标i已经到了13，超出ele_lis的范围.
	// 		for(var k = 0 ; k < ele_lis.length ; k ++){
	// 			ele_lis[k].className = "";
	// 		}
	// 		this.className = "active";
	// 	}
	// }
	
	// var ele_lis = document.getElementById("box").children;
	// var li = ele_lis[0];
	// li.onclick = function(){
	// 	alert(li);
	// }

	// 方案 1 : 
	// var ele_lis = document.getElementById("box").children;
	// for(var i = 0 ; i < ele_lis.length ; i ++){
	// 	ele_lis[i].setAttribute("data-id",i);
	// }
	// for(var i = 0 , li ; li = ele_lis[i++]; ){
	// 	li.onclick = function(){
	// 		var dataId = this.getAttribute("data-id");
	// 		console.log(dataId);
	// 		for(var k = 0 ; k < ele_lis.length ; k ++){
	// 			ele_lis[k].className = "";
	// 		}
	// 		this.className = "active";
	// 	}
	// }

	// 两个循环合并;

	// var ele_lis = document.getElementById("box").children;
	// for(var i = 0 , li ; li = ele_lis[i++]; ){
	// 	li.setAttribute("data-id",i-1);
	// 	li.onclick = function(){
	// 		var dataId = this.getAttribute("data-id");
	// 		console.log(dataId);
	// 		for(var k = 0 ; k < ele_lis.length ; k ++){
	// 			ele_lis[k].className = "";
	// 		}
	// 		this.className = "active";
	// 	}
	// }

	// 方案2:
	// dom === 对象 ?  yes;
	// html 之中的属性 <div class="box"></div>   obj.a = 10;
	// div之中的属性有html标签特有的特性，他是一个标记;
	// obj.a 属性，作用只有一个储存数据;

	// <div data-id="1"><div> 这个data-id 属性有什么特殊的html意义么? 
	// data-id不过就是在这个标签之中存储了一个表明当前标签下标的 * 数据 *;
	// 在dom对象之中只存数据的属性 === 对象之中存数据的属性;
	// box.dataId = 0;
	// var ele_lis = document.getElementById("box").children;
	// for(var i = 0 , li ; li = ele_lis[i ++];){
	// 	// console.log(typeof li);
	// 	li.index = i - 1;
	// 	li.onclick = handlerLiClick;
	// }

	// function handlerLiClick(){
	// 	console.log(this.index);
	// }

	// 方案三: 

	// 找到一个独立的载体 , 并把下标存进这个载体之中;
	// 找到一个对象,把下标存进对象之中;
	// 看得见摸得着的对象;
	// var ele_lis = document.getElementById("box").children;
	// 在这个for循环之中我们创建了12个活动对象, 活动对象创建自匿名函数!;
	// { index : 0 }   =>  留得一个引用 => 在当前元素的事件处理函数之中;
	// { index : 1 }
	// { index : 2 }
	// ....
	// { index : 11 }
	// for(var i = 0 , li ; li = ele_lis[i++];){
	// 	(function(index){ // 形参;
	// 		li.onclick = function(){ //
	// 			console.log(index);
	// 		}
	// 	})(i-1); // 实参
	// }

	// 对比三种方案;
	// 优雅(zhuangbi);

	// 遍历 li 列表;
	// var ele_lis = document.getElementById("box").children;

	// // console.log(ele_lis);
	// for(var i = 0 , li ; li = ele_lis[i++]; ){
	// 	(function(index){ // index : 0 ~ 11;
	// 		li.onclick = function(){
	// 			console.log(index);
	// 		}
	// 	})(i-1) ;// 0 ~ 11;
	// }
	
</script>
</body>
</html>
