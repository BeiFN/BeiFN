<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    *{margin:  0 ; padding: 0;}
    li{list-style: none;}
    .optionMenu{
        width: 200px;
        position:absolute;
        display: none;
    }
    .optionMenu li {
        transition: all .5s;
        padding: 0 5px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        border-bottom: 1px solid #fff;
        background: rgba(0, 0, 0, .5);
        border-radius: 5px;
    }
    .optionMenu li:hover{
        transition: all .5s;
        background: #333;
        color: yellowgreen;
        box-shadow: 0 0 5px #333;
    }
    .list{
        float: left;
        margin-left: 20px;
    }
</style>
<body> 
        <ul class="list">
                <h1>列表1</h1>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
                <li>我是列表1之中的li</li>
          </ul>
    
          <ul class="list">
                <h1>列表2</h1>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
                <li>我是列表2之中的字符串</li>
          </ul>
    <ul class="optionMenu">
        <li>复制</li>
        <li>粘贴</li>
        <li>剪切</li>
        <li>删除</li>
    </ul>

    <script>
            var ele_optionMenu = document.querySelector(".optionMenu");
            var listTarget = null;
            var cloneEle = null;
            // var lists = document.querySelectorAll(".list");
          
            function handlerContextmenu(evt){
                var e = evt || window.event;
                var target = e.target || e.srcElement;
                
                typeof e.preventDefault === "function" ? e.preventDefault() : e.returnValue = false;
                // typeof e.preventDefault === "function" ? e.preventDefault() : e.returnValue = false;
                // typeof e.stopPropagation === "function" ? e.stopPropagation() : e.cancelBubble = true;
                var left = e.clientX;
                var top = e.clientY;
                ele_optionMenu.style.cssText = "display:block;left:"+left+"px;top:"+top+"px";

                listTarget ? listTarget.style.background = "" : "";
                listTarget = target;
                listTarget.style.background = "yellowgreen";
                
            }
            function handlerClick(){
                ele_optionMenu.style.display = "none";
            }
            function handlerClickLi(evt){
                var e = evt || window.event;
                var target = e.target || e.srcElement;
                console.log(target);
                switch(target.innerHTML){
                    case "复制":
                            cloneEle = listTarget.cloneNode(true);
                            cloneEle.style.background = "";
                            break;
                    case "粘贴":                                             
                            listTarget.parentNode.insertBefore(cloneEle,listTarget);
                            break;
                    case "剪切":
                            cloneEle = listTarget;
                            listTarget.remove();
                            break;
                    case "删除":
                            listTarget.remove();
                            break;
                }
            }
            ele_optionMenu.addEventListener("click",handlerClickLi);
            document.addEventListener("contextmenu",handlerContextmenu);
            document.addEventListener("click",handlerClick);
    </script>
</body>
</html>