<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Document</title>
</head>
<body>
      <script>
            // forEach |  map |  filter | some | every | reduce 

            // 1. 概述;
            // 2. 参数;
            // 3. 返回值;
            arr.forEach(foo);
            for(var i = 0 ; i < arr.length ; i ++){
                  foo(arr[i],i,arr);
            }
            // forEach 是用来遍历数组的;
            // var arr = [1,2,3,4,5,6,6,7,9];
            // arr.forEach( foo )
            // // foo (item , index , arr) ;
            // function foo( item , index , arr){
            //       console.log(item , index , arr);    
            // } 
            // forEach 会接受一个函数作为参数,并在方法内调用 *参数函数* 数组项数次;
            // 而是 *参数函数* 的形参 ;
            
            // 1. 调用参数函数 数组项数次;
            // function myForEach(arr , fn){
            //       for(var i = 0 ; i < arr.length ; i ++){
            //             fn( arr[i] , i , arr);
            //       }
            // }
            // myForEach( arr , function( item , index , arr){
            //       console.log(item , index , arr)
            // } )
            // forEach 没有返回值 返回值为undefined;
            
            // arr.forEach( foo ) ;
            // // forEach 的参数为函数,那么意味着forEach想要在 函数(forEach) 内部调用这个参数( foo );
            // function foo( item , index , arr ){
            //       console.log(item , index , arr );
            // }
            // // 我们对于这个API的学习并不是关注 forEach 这个API的参数;
            // // 作为实参的函数 , 他的形参; 
            // function myForEach( arr , fn ){
            //       for(var i = 0 ; i < arr.length ; i ++){
            //             fn( arr[i] , i , arr );
            //       }
            // }
            function myMap(fn,arr){
                  var res = [];
                  for(var i = 0 ; i <arr.length ; i ++){
                        res.push(fn(arr[i],i,arr));
                  }
                  return res;
            }


            // map  返回一个新数组，新数组之中装的是参数函数的返回值;

            // var arr = [15000,20000,21000,26000,3000,2000,8000];
            // var res = [];
            // arr.forEach( function ( item ){
            //       res.push( item * 1.3)
            // })

            // console.log(res);

            // var arr = [15000,20000,21000,26000,3000,2000,8000];

            // var newArray = arr.map( function ( item , index ){
            //       return item * 1.3;
            // })
            // // console.log(newArray)
            // // console.log( arr.map( item => item * 1.3));

            // function myMap( arr , fn){
            //       var res = [];
            //       for(var i = 0 ; i < arr.length ; i ++){
            //           res.push(  fn( arr[i] , i , arr ) );
            //       }
            //       return res;
            // }
            function Myfilter(fn,arr){
                  var res = [];
                  for(var i = 0 ; i < arr.length ; i ++){
                        if(fn(arr[i],i,arr)){
                              res.push(arr[i]);
                        }
                  }
                  return res;
            }
            // filter  返回新数组.会根据参数函数的返回值判定是否该讲具体的项加入新数组;
            // var arr = [15000,20000,21000,26000,3000,2000,8000];
            // var newArray = arr.filter( function(item , index){
            //       return item >= 10000;
            // } )
            // console.log(newArray);
            // function myFilter(arr , fn){
            //       var res = [];
            //       for(var i = 0 ; i < arr.length ; i ++){
            //             if(fn(arr[i] , i , arr)){
            //                   res.push(arr[i])
            //             }
            //       }
            //       return res;
            // }
            function mySome(fn,arr){
                  for(var i = 0 ; i < arr.length ; i++){
                        if(fn(arr[i],i,arr)){
                              return true;
                        }
                  }
            }
            // some 判定数组中是否存在某个符合条件的; 一旦函数返回true那么some就会终止循环，并且返回true ;

            // var arr = [15000,20000,21000,26000,3000,2000,8000];
            // var boolean = arr.some( function (item , index , arr){
            //       console.log(item);
            //       return item === 3000
            // })
            // console.log(boolean);
            
            function Myevery(fn,arr){
                  var flag = true;
                  for(var i = 0 ; i < arr.length ; i ++){
                        if(!fn(arr[i],i,arr)){
                              flag = false;
                        }
                  }
                  return flag;
            }

            // every every() 方法测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。

            // var arr = [15000,20000,21000,26000,3000,2000,8000];
            // var boolean = arr.every(function( item , index , arr){
            //       // console.log(1);
            //       return item % 2 === 0
            // })
            // console.log(boolean);
            // 作业 : some封装;
            // function myEvery( arr , fn){
            //       for(var i = 0 ; i < arr.length ; i++){
            //             if(!fn(arr[i],i,arr)){
            //                   return false
            //             }
            //       }
            //       return true;
            // }

            function myReduce(fn , arr){
                  var prev = arr[0];
                  for(var i = 1 ; i < arr.length ; i ++){
                        prev = fn(arr[i] , i , arr);
                  }
                  return prev;
            }
            // var arr = [15000,20000,21000,26000,3000,2000,8000];

            // var res = arr.reduce(function(pre , now , index , arr){
            //       console.log(pre,now ,index);
            //       return pre + now;
            // })

            // console.log(res);
            // function myReduce( arr , fn ){
            //       var prev = arr[0];
            //       for(var i = 1 ; i < arr.length ; i++){
            //             prev = fn( prev , arr[i] , i , arr);
            //       }
            //       return prev;
            // }
            // console.log(myReduce( arr , function(prev,now , index){
            //       return prev + now;
            // } ))

            // var arr = [
            //       [1,2,3,4,5],
            //       [2,3,4,5,7]
            // ]
            // console.log(arr.flat());
            // 数组扁平化咋实现 ? 

            // function flat(arr){
            //       var res = [];
            //       for(var i = 0 ; i < arr.length ; i ++){
            //             //只要不是数组我就push
            //             if(!(arr[i] instanceof Array)){
            //                   res.push(arr[i])
            //             }else{
            //                   flat();
            //             }
            //       }
            //       return res ;
            // }
            
            // flat 是函数么 ? 是引用类型么 ? 可以放属性么 ?
            // function flat(arr){
            //       // 判定是否是第一次执行flat ;
            //       if(!flat.res){
            //             flat.res = [];
            //       }
            //       for(var i = 0 ; i < arr.length ; i ++){
            //             //只要不是数组我就push
            //             if(!(arr[i] instanceof Array)){
            //                   flat.res.push(arr[i])
            //             }else{
            //                   flat(arr[i]);
            //             }
            //       }                 
            //       return flat.res ;
            // }

            // // flat.a = 10;

            // console.log( flat(arr));
           
            // var arr = [
            //       [1,2,3,4,5],
            //       [2,3,4,5,7]
            // ]
            // var res = [];
            // var i = 0 ; 
            // while( true ){
            //     if(!(arr[i] instanceof Array)){
            //       res.push(arr[i])
            //     }else{
            //       var k = 0;
            //       while(true){
            //             if(!arr[i][k]){
            //                   break;
            //             }
            //             res.push(arr[i][k]);
            //             k++
            //       }
            //     }
            //     i++;
            //     if(arr[i] == undefined){
            //           break;
            //     }
            // }

      </script>
</body>
</html>