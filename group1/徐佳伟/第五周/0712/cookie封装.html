<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cookie封装</title>
</head>
<body>
    <script>
        //总结一下
        //总结一下 我此时的心态有点炸裂
        //不知道哪来的bug 到最后也不知道怎么解决的
        //     function setCookie(name,value,
        //                     {
        //                         domain,
        //                         path,
        //                         expires ,
        //                         secure 
        //                     } = { }){
        //         return (document.cookie = [
        //             name + "=" + value,
        //             domain  ? ";domain="  + domain : "",
        //             path    ? ";path="    + path   : "",
        //             expires ? ";expires=" + (( d = new Date()).setDate(d.getDate() + expires) && d ): "",
        //             secure  ? ";secure="  + secure : ""
        //         ].join(""));
        //     }  
        //     //自己写的略微垃圾 
        //     // function getCookie(name){
        //     //     let cookies = document.cookie.split("; ");
        //     //     for(let i = 0 ,res; res= cookies[i] ; i ++)
        //     //     {
        //     //         if(res.split("=")[0] === name){
        //     //             return res.split("=")[1];
        //     //         }
        //     //     }
                
        //     //     return "";
        //     // }
        //     // setCookie("daweige2","546");

        //     function getCookie(name){
        //         let [a,res] = [document.cookie.split("; "),""];      
        //         res = a.filter((item) =>  {return item.split("=")[0] === name} )
        //         return res.length === 0 ? "" : res[0].split("=")[1] ;
        //     }
        // //    console.log(getCookie("daweige1")) ;

        //     function removeCookie(name,path = ""){
        //         setCookie(name , "" ,{
        //             expires : -1 ,
        //             path
        //         })
        //     }
        //     // d = new Date().setDate(d.getDate() -1 );

        //     // console.log(setCookie("s","b",{
        //     //     domain : "domain",
        //     //     path : "",
        //     //     expires : 10,
        //     //     secure : ""
        //     // }))
        //     removeCookie("daweige4");

        //现在就是整个人都不好了
        //总结个屁
        //问题也么得找到
        //气死爸爸了

            function cookie(
                name,value,
                {
                    expires,
                    path ,
                    domain,
                    secure
                }={})
            {
                if(arguments.length === 1){
                    let [a,res] = [document.cookie.split("; "),""];
                    res = a.filter(item => item.split("=")[0] === name);
                    return res.length === 0 ? "" : res;
                }

                return document.cookie = [
                    name + "=" + value,
                    expires ? ";expires=" + ((d = new Date()).setDate(d.getDate() +expires) && d) : "",
                    domain  ? ";domain="  + domain : "" ,
                    secure  ? ";secure="  + secure : "",
                    path    ? ";path="    + path   : ""
                ].join("");

            }
        
            function removeCookie(name,path=""){
                cookie(name,"",
                {
                    path,
                    expires : -1
                })
            }
            cookie("daweige8","",{
                expires :10
            });
    </script>
</body>
</html>