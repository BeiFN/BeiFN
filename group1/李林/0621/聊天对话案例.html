<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    *{font-size: 14px; padding:0; margin:0;}
.main{
	position: relative;
	margin: 20px auto;
	border: 1px solid steelblue;
	width: 430px;
	height: 400px;
}
.msgInput{
	display: block;
	width: 406px;
	height: 60px;
	margin: 10px auto;
	
}
.sendbtn{
	position: absolute;
	width: 100px;
	height: 29px;
	bottom: 5px;
	right: 10px;
}
.content{
	list-style: none;
	width: 410px;
	height: 280px;
	margin: 5px auto;
	border: 1px dotted #D1D3D6;
	overflow-y: scroll;
}
.msgContent{
	width:auto;
	max-width: 250px;
	height: auto;
	word-break: break-all;
	margin: 5px;
	padding: 3px;
	border-radius: 5px;
}

.content .left{
	float: left;
	text-align: left;
	background-color: lightgrey;
}
.content .right{
	float: right;
	text-align: right;
	background-color: yellowgreen;
}
.whoTalk {
    width: 80px;
    height: 30px;
    float: left;
    outline: none;
    border-radius: 5px;
    margin-left: 10px;
    margin-bottom: 2px;
}
    </style>
</head>
<body>
        <div id="main" class="main">
                <ul id="content" class="content">
                    <li class="msgContent left">hello?</li>
                    <div style="clear: both;"></div>
                    <li class="msgContent right">hi</li>
                    <div style="clear: both;"></div>
                    <li class="msgContent left">goodbye</li>  
                </ul>
                <select class="whoTalk" id="who">
                        <option value="0">A说：</option>
                        <option value="1">B说：</option>
                </select>
                <textarea id="msg_input" class="msgInput"></textarea>
                <button id="sendbtn" class="sendbtn">发送</button>
        </div>
<script>
        var sendbtn = document.getElementById("sendbtn");
        var msgipt = document.getElementById("msg_input");
        var content = document.getElementById("content");
        var ele_who = document.getElementById("who");
        sendbtn.onclick = handlerSend;
        function handlerSend(){
            var msgValue = msgipt.value;
            if(msgValue.trim().length === 0)  return false;
            
            var div =document.createElement("div");
            div.style.clear = "both";
            var li = document.createElement("li");
            li.innerHTML = msgValue;
           if(ele_who.value == 0){li.className = "msgContent left";} 
           else if(ele_who.value == 1){li.className = "msgContent right";}
            content.appendChild(div);
            content.appendChild(li);

            li.scrollIntoView();
            
            msgipt.value = "";
            msgipt.focus();
        }

</script>

</body>
</html>