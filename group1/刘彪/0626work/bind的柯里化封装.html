<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
        
        <script>



            //bind的柯里化封装
            //1.创建一个新函数
            //2.this的绑定;
            //3.固定参数

            // 参数固定案例
            // function foo(a,b){
            //     console.log(a,b);
            // }
            // var poo= foo.bind(false,3,4); //foo函数被执行,同时,poo接收foo被bind后返回的新函数
            // poo(1,5);


            function bind(fn,_this){
                
                //bind被调用时传入的参数由形参和arguments接收;

                //作用三:arguments接收的参数是用来完成固定参数的;
                //将arguments伪数组转换成真数组,并截取数组中所有下标为2及2之后的所有数据;
                var  args = [].slice.call(arguments).slice(2);

                //作用一:返回一个新函数;
                return function(){

                    //匿名函数参数的两个来源;
                    //1.bind被调用时传入的参数,利用闭包机制,访问外部函数的变量;
                    //2.匿名函数被调用时传入的参数,由arguments接收.

                    var nimingArg = [].slice.call(arguments);
                    //作用二:改变this指向;
                    fn.apply(_this,args.concat(nimingArg));
                }
            }
            function foo(a,b,c,d,e){
                console.log(this,a,b,c,d,e)
            }
            var poo = bind(foo,{name:"吴"},1,2,3) //bind函数的返回值赋值给poo,这个返回值是匿名函数的地址;

            foo(); //直接调用,this指向window;
            poo(4,5); //调用匿名函数,匿名函数里又调用形参函数,这个形参函数被foo赋值;
    

        </script>



</body>
</html>