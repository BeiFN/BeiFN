<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding:0;
        }
        li{
            list-style: none;
            padding: 3px  5px;
            border-bottom: 2px solid #ddd;
            text-align: center;
            width: 80%;
            margin: 5px auto;
            background: #fff;

        }
        ul{
            background: #ddd;

        }
    </style>
</head>
<body>
    <ul>
        <li class="g">又是<b>快乐</b>的一天</li>
        <li class="g">又是快乐的一天</li>
        <li class="g">又是快乐的一天</li>
        <li class="g">又是快乐的一天</li>
        <li class="g">又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
        <li>又是快乐的一天</li>
    </ul>
    <script>
        // var ul =document.querySelector("ul");
        // var foo =null;
        // ul.addEventListener("click",delegation(handlerClick,".g"));
        // function delegation(handlerClick,selector){
        //     return function(evt){
        //         var e = evt || event ;
        //         var target = e.target || e.srcElement;
        //         var eleList =this.querySelectorAll(selector);
        //         var targetFamily = [];
        //         var _tempTarget = target;
        //         var count = 0;
        //         while(true && count++ <100){
        //             if(_tempTarget === this){
        //                 break;
        //             }
        //             targetFamily.push(_tempTarget);
        //             _tempTarget = _tempTarget.parentNode;
        //         }
        //         for(var i = 0,ele;ele = eleList[i++];){
        //             if(targetFamily.length ===1 ? ele ===targetFamily[0] : targetFamily.indexOf(ele) !== -1){
        //                 handlerClick.call(ele,e);
        //                 break;
        //             }
        //         }
        //     }
        // }
        // function handlerClick(){
        //     this.style.background = "skyblue";
        // }
        var arr = [
            [2,3,4,2,4,5,6,5],
            [6,66,7,8,9]
        ]
        console.log(arr.flat());
        //flat运用了递归
        function flat (arr){
            //判断是不是第一次，不判断会导致重复建立数组
            if(!flat.res){
                flat.res = [];
            }
            for(var i = 0; i<arr.length;i++){
                if(!(arr[i] instanceof Array)){
                    flat.res.push(arr[i]);
                }else{
                    flat(arr[i]);//调用自己
                }
            }
            return flat.res;
        }

       console.log(flat(arr));







        //some的封装
        // var arr = [15000,20000,21000,26000,3000,2000,8000];
        // function mySome( arr ,fn){
        //           for(var i =0 ; i<arr.length;i++){
        //                 if(fn(arr[i],i,arr)){
        //                       return true;
        //                 }
        //           }
        //           return false;
        //     }  
            

        //   console.log( mySome(arr,function foo (item,index,arr){
        //             return item === 3000;
        //     })) ; 
    </script>
</body>
</html>