<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Document</title>
</head>
<body>      
      <input type="text" placeholder="请输入用户名" id="aa"  class="txt"><br>
      <input type="text" placeholder="请输入用户"  class="txt"><br>
      <input type="text" placeholder="请输入用"  class="txt">
      
      <script>
            var ele_lis = document.getElementsByClassName("txt");
            console.log(ele_lis);
            
            for(var i=0,input;input=ele_lis[i++];){
                 
                  input.setAttribute("lis-id",i-1);
                  var  lisId = input.getAttribute("lis-id");
                       console.log(lisId);
                  // input.onblur =function (){
                      
                  // }
                  switch(lisId){
                        case "0":
                              username();
                              break;
				case "1":
					psd();
					break;
				case "2":
					psd2();
					break;
                  }
                 
            }


            function username(){
                  //用户名长度6-20

                  aa.onblur = handlerBlur;
                  function handlerBlur(){
                        // 获取用户输入的内容; => 字符串;
                        var content = aa.value;
                        // 验证  1 => 用户名长度6-20
                        if(content.length >= 6 && content.length <= 20){
                              username.style.borderColor = "green";
                        }else{
                              username.style.borderColor = "red";
                              alert("用户名长度应该在6 - 20 位之间");

                              return false;
                        }

                        // 验证  2 => 首字符不能为数字;

                        // isNaN => true NaN => 非数字;
                        //          false    => 纯数字
                        if(isNaN(content[0])){
                              username.style.borderColor = "green";
                        }else{
                              username.style.borderColor = "red";
                              alert("首字符不能为数字");
                              return false;
                        }

                        for(var i = 0 , letter; letter = content[i++]; ){
                              // console.log(letter)
                              var ascii =  letter.charCodeAt(0);
                              if(!(ascii >= 48 && ascii <= 57 ||  ascii>=65 && ascii<=90 || ascii >=97 && ascii <= 122 || ascii === 95)){
                                    alert("只能以数字字母下划线进行命名");
                                    username.style.borderColor = "red";
                                    return false;
                              }

                        } 
                        
                  }

            //数字不能开头
            //只能包含数字、字母、下划线
            }
            function psd(){
			
		}
		function psd2(){
			
		}
      </script>
</body>
</html>