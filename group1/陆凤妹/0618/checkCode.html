<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>0618:作业</title>

    <style>
    #wrap{
        width: 304px;
        height: 100px;
        position: absolute;
        border: 1px solid #ffffff;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        margin: auto;
    }

    #txt{
        width: 300px;
        height: 40px;
        border: 1px solid rgba(0, 0,0, 0.3);
        border-radius: 5px;
        
    }
    #test{
        width: 300px;
        height: 50px;
        border-radius: 5px;
        margin: 15px auto;
    }
  #weak,#mid,#power{
        display: inline-block;
        width:50px;
        height: 20px;
        border-radius: 5px;
        margin: 15px 2px;
        text-align: center;
        background: silver;
    }
    </style>

</head>
<body>
<!-- 密码强度验证 -->

       <div id="wrap">
           <input type="password" name="" id="txt" onKeyUp=pwStrength(this.value) onBlur=pwStrength(this.value)>
           <div class="test">
               <span>密码强度：</span>
               <span id="weak" style="margin-left: 10px;">弱</span>
               <span id="mid">中</span>
               <span id="power">强</span>
           </div>
       </div>



    <script>
        var oTxt= document.getElementById("txt");
        var oSpan1= document.getElementById("weak");
        var oSpan2= document.getElementById("mid");
        var oSpan3= document.getElementById("power");
    
// 判断输入密码的类型
           //判断输入密码的类型 
           function CharMode(iN){ 
            if (iN>=48 && iN <=57) //数字 
            return 1; 
            if (iN>=65 && iN <=90) //大写 
            return 2; 
            if (iN>=97 && iN <=122) //小写 
            return 4; 
            else 
            return 8; 
            } 


            //bitTotal函数 
            //计算密码模式 
            function bitTotal(num){ 
            modes=0; 
            for (i=0;i<4;i++){ 
            if (num & 1) modes++; //num & 1  与运算
            num>>>=1; //向右移1位
            } 
            return modes;
            }


   //返回强度:弱、中、强 
   function checkStrong(sPW){ 
            if (sPW.length<=4) 
            return 0; //密码太短 
            Modes=0; 
            for (i=0;i<sPW.length;i++){ 
            //密码模式 
            Modes|=CharMode(sPW.charCodeAt(i)); 
            } 
            return bitTotal(Modes); 
            } 


             //显示颜色 
             function pwStrength(pwd){ 
                O_color="sliver";    //默认值
                W_color="#00ff00";    // 弱
                M_color="#0000ff";   //中
                P_color="#ff0000";    //强
            if (pwd==null||pwd==''){ 
            Wcolor=Mcolor=Pcolor=O_color; 
            } 
            else{ 
            S_level=checkStrong(pwd); 
            switch(S_level) { 
            case 0: 
            Wcolor=Mcolor=Pcolor=O_color; 
            case 1: 
           Wcolor=W_color; 
            Mcolor=Pcolor=O_color; 
            break; 
            case 2: 
            Wcolor=Mcolor=M_color; 
            Pcolor=O_color; 
            break; 
            default: 
            LWcolor=Mcolor=Pcolor=P_color; 
            } 
            } 
          oSpan1.style.background=Wcolor; 
          oSpan2.style.background=Mcolor; 
          oSpan3.style.background=Pcolor; 
            return; 
            } 
            

    </script>







    
</body>
</html>