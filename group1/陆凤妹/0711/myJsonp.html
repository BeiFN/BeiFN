<!DOCTYPE html>
<html lang="en">
<head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <meta http-equiv="X-UA-Compatible" content="ie=edge">
          <title</title>
</head>
<body>
       <script>
             function jsonp(url,cb_filed,callback){
                      //  全局函数
                       var Global_cb = "foo";
                       window[Global_cb] = function(res){
                                 callback(res);
                       } 
                    //    发送数据请求 
                    var script = document.createElement("script");
                  //   路径判断
                    url += /\?/.test(url)?"&":"?";
                  
                    script.src = url + cb_filed + "=" + Global_cb;
                  //   垃圾回收机制
                  // console.log(script);
                  script.onload = function () {
                     this.remove();
                  }
                  //  插入页面
                  
                  document.body.appendChild(script);
                }
             
             
            //  函数调用
            jsonp("http://localhost/coding/07100/jsonp.php","callback",function(res){
              //  console.log(res);
            })
          
          
          
          </script>   
</body>
</html>