<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>右键菜单</title>
		<style type="text/css">
			#menulist{
				width: 100px;
				height: 130px;
				background: lightblue;
				display: none;
				position: absolute;
				left: 0;
				top: 0;
			}
			#menulist li{
			list-style: none;
			text-align: center;
			line-height: 30px;
			background: #FFB6C1;
			margin: 2px 0;
			}
		</style>
	</head>
	<body>
		<div id="menulist">
			<li>复制</li>
			<li>粘贴</li>
			<li>剪切</li>
			<li>删除</li>
		</div>
		<div id="content">
			<ul>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
				<li>这是li标签</li>
			</ul>
			<ul>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
				<p>这是一个p标签</p>
			</ul>
		</div>
		<script type="text/javascript">
			var lists=document.getElementById("menulist");
			var targetEle=null;
			var cloneEle=null;
			
			document.addEventListener("contextmenu",showList);
			function showList(evt){
				var e=evt||event;
				lists.style.display="block";
				lists.style.top=e.clientY+"px";
				lists.style.left=e.clientX+"px";
				
				typeof e.preventDefault === "function"? e.preventDefault() : e.returnValue=false ;
				
				var target=e.target||e.srcElement;
				
				targetEle?targetEle.style.background="none":"";
				targetEle=target;
				targetEle.style.background="#999"
			}
			document.onclick=function(evt){
				var e=evt||event;
				lists.style.display="none";
			}
			lists.onclick=function(evt){
				var e=evt||event;
				var target=e.target||e.srcElement;
				switch(target.innerHTML){
					case "复制":
						targetEle.style.background="none";	//先把背景清空之后再粘贴
						cloneEle=targetEle.cloneNode(true);
						break;
					case "粘贴":
						targetEle.appendChild(cloneEle);
						targetEle.style.background="none";
						break;
					case "剪切":
						cloneEle=targetEle;
						targetEle.style.background="none";
						break;
					case "删除":
						targetEle.remove();
						break;
				}
			}
			
		</script>
	</body>
</html>
