<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>选项卡</title>
		<style>
            *{
                  margin: 0;
                  padding: 0;
                  font-size: 30px;
            }
            li{
                  list-style-type:none;
            }
            #pagination{
                  background: #ddd;
                  width: 300px;
                  height: 400px;
                  margin: 0 auto;
            }
            #btn-list{
                  width: 100%;
                  height: 50px;
                  text-align: center;
                  background: #b6b6b6;
                  line-height: 50px;
            }
            #btn-list button{
                  padding: 0 20px;
            }
            #btn-list button.active{
                  background: yellowgreen;
            }
            #content-list li{
                  width: 300px;
                  height: 350px;
                  line-height: 350px;
                  text-align:center;
                  display: none;
            }
            #content-list li.active{
                  display: block;
            }
      </style>
	</head>
	<body>
		 <div id="pagination">
            <div id="btn-list">
                  <button>1</button>
                  <button>2</button>
                  <button>3</button>
            </div>
            <ul id="content-list">
                  <li class="active">1</li>
                  <li>2</li>
                  <li>3</li>
            </ul>
      </div>
	  
	  <script src="commen.js"> </script>
	  <script type="text/javascript">
		  
		let { randomColor } = Utils;
		class Table{
			//
			constructor() {
				this.btns=document.getElementById("btn-list").children;
				this.contents=document.getElementById("content-list").children;
				
			    for (var i=0, btn; btn=this.btns[i];i++) {
			    	//console.log(btn,i);
			    	btn.addEventListener("click",this.changeContent.bind(this,i));
			    	btn.addEventListener("click",this.changeBtnColor.bind(this,i));
			    	btn.addEventListener("click",this.changeContentColor.bind(this,i));
			    }
			}
			
			// 改变列表项的内容
			changeContent(index,evt){
				var e = evt || event;
				var target=e.target||e.srcElement;
				for (var i=0,content;content=this.contents[i];i++) {
					content.className="";
				}
				this.contents[index].className="active";
			}
			
			// 改变按钮的颜色为随机颜色
			changeBtnColor(index,evt){
				var e = evt || event;
				var target=e.target||e.srcElement;
				for (var i=0,btn;btn=this.btns[i];i++) {
					btn.style.background="";
				}
				this.btns[index].style.background=randomColor();
			}
			
			// 改变列表项的随机颜色
			changeContentColor(index,evt){
				var e = evt || event;
				var target=e.target||e.srcElement;
				for (var i=0,content;content=this.contents[i];i++) {
					content.style.background="";
				}
				this.contents[index].style.background=randomColor();
			}
			
			
		}  
		  
		new Table();
		
	  </script>
	</body>
</html>
