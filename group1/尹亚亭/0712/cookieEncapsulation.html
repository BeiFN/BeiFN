<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>cookie的封装</title>
</head>
<body>
    <script>
 
		// 设置/获取 cookie
        function cookie( 
					name , 
					value , 
					{
						expires,
						path,
						domain,
						secure
					}
		 = {})
        {
            //  传入一个参数就是 获取cookie
            // 获取cookie
            if( arguments.length === 1 ){
                let [ a , res ] = [ document.cookie.split("; ") , "" ];
                res = a.filter( item => item.split("=")[0] = name );
                return res.length===0 ? "" : res[0].split("=")[1];
            }

            // 传入的不是一个参数，是两个或是多个时，就是 设置cookie
            // 设置cookie
            return (document.cookie = [
                name + "=" + value,
                expires ? ";expires=" + ( (d = new Date()).setDate(d.getDate() + expires) && d )  : "",
                path ? ";path=" + path : ""
            ].join(""));

        }
        // 移除cookie
        function removeCookie( name , path = ""){
            cookie( name , "" , {
                path,
                expires : -1 
            } )
        }


        // 调用函数
        // setcookie
        cookie("username","hello world",
            {
                expires:3,
                path:"http://localhost/yyt/0712/",
                domain:".baidu.com",
            }
        );

        // getcookie
        var res = cookie("username");
        console.log(res);

        // removecookie
        var rem = removeCookie("","/yyt/0712");
        console.log(rem);

    </script>
</body>
</html>