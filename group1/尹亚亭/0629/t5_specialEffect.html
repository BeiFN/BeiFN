<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>一个特效</title>
		  <style>
            #nav{
                  width: 100px;
                  height: 250px;
                  background: yellowgreen;
                  position: absolute;
                  left: 0;
                  top: 0;
            }
            #jingubang{
                  height: 3000px;
            }
      </style>
	</head>
	
	<body>
		
		<div id="jingubang"></div>
        <div id="nav"></div>
		
		<script type="text/javascript">
			var box=document.getElementById("nav");
			var timer=null;
			var clientHeight=document.documentElement.clientHeight;
			window.onscroll=function(){
				var scrollTop=document.body.scrollTop || document.documentElement.scrollTop;
				move((clientHeight-box.offsetHeight)/2+scrollTop);
			}
			function move(target){
				target=parseInt(target);
				clearInterval(timer);
				timer=setInterval(function(){
					var speed=(target-box.offsetTop)/10;
					speed=speed>0?Math.ceil(speed):Math.floor(speed);
					if(target===box.offsetTop){
						clearInterval(timer);
					}else{
						box.style.top=box.offsetTop+speed+"px";
					}
				},50)
			}
		</script>
	</body>
</html>
