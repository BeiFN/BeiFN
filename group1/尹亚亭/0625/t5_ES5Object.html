<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>ES5新增Object方法</title>
	</head>
	<body>
		<script type="text/javascript">
			var obj={
				b:"@",
				$:"*",
				2:"p",
				w:undefined,
				null:0,	
				success:"!",
			}
			console.log(obj);
			Object.defineProperty( obj , "a" , {
                  // 不可删除;
                  configurable : true,
                  // 不可枚举;
                  enumerable : true,
                  value : "hello world",
                  writable : true
            })    
            delete obj.a;
            for(var attr in obj ){
                  console.log(attr);
            }
			
			 var obj = {
                  $data : {}
            }
			Object.defineProperty( obj , "a" , {
                get : function(){
                  return this.$data.a;
                },
                set : function(val){
					// 通过this.a不能赋值,要用this.$data.a
                  // 因为在a设置值的时候已经被作为一个拦截器而进行set处理了,那么这时候我们不能给a直接赋值;
                  return this.$data.a = val;
                }
            })   
            console.log(obj);
			
			var obj1 = {
                  $data : {}
            }
            Object.defineProperty( obj1, "a" , {
                get : function(){
                  return this.$data.a++;
                },
                set : function(val){
                  return this.$data.a = val;
                }
            })   
			 obj1.a = 1;
            console.log(obj1.a === 1 && obj1.a === 2 && obj1.a === 3 && obj1.a === 4);

		</script>
	</body>
</html>
