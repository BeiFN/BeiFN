<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div{
            width: 100px;
            height: 100px;
            margin: 20px;
            background: #ccc;
            border: 10px solid #999;
            float: left;
        }
    </style>
</head>
<body>
    <div id="box1"></div>
    <div id="box2"></div>
    <div id="box3"></div>
    <script>
        var box1 = document.getElementById("box1");
        var box2 = document.getElementById("box2");
        var box3 = document.getElementById("box3");

        box1.addEventListener("mouseover", handlerMouseoverBox1);
        box2.addEventListener("mouseover", handlerMouseoverBox2);
        box3.addEventListener("mouseover", handlerMouseoverBox3);

        function handlerMouseoverBox1(){
            move(200, this, "height");
        }
        function handlerMouseoverBox2(){
            move(200, this, "width");
        }
        function handlerMouseoverBox3(){
            move(0.5, this, "opacity");
        }

        function move(target, dom, attr){
            var speed = 0;
            // dom.setAttribute(attr,target+"px")
            // dom.style[attr] = target + "px";
            dom.timer = setInterval(function(){
                var value = target-parseInt(getComputedStyle(dom)[attr]);
                speed = (attr == "opacity" ? value*100 : value)
                // console.log(speed)
                speed = value>0?speed /100: -speed/100;
                if(speed < 1){
                    speed = value>0? 1: -1;
                }
                if(attr == "opacity" && value*100 <= speed) {
                    dom.style[attr] = target;
                    clearInterval(dom.timer)
                    dom.timer = null;
                }else if(attr != "opacity" && value <= speed){ 
                    dom.style[attr] = target + "px";
                    console.log(1)
                    clearInterval(dom.timer)
                    dom.timer = null;
                }else{
                    (attr == "opacity") ?dom.style[attr] = parseInt(getComputedStyle(dom)[attr]+speed/100) :dom.style[attr] = parseInt(getComputedStyle(dom)[attr]) + speed + "px" 
                }

            }, 50)
        }
    </script>
</body>
</html>