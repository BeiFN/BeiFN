<!DOCTYPE html PUBLIC "-//W3C//h2D XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/h2D/xhtml1-transitional.h2d">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JavaScript简易日历</title>
<style type="text/css">
* { padding: 0; margin: 0; }
li { list-style: none; }
body { background: #f6f9fc; font-family: arial; }

.calendar { width: 210px; margin: 0 auto; padding: 10px 10px 20px 20px; background: #eae9e9; }
.calendar ul { width: 210px; overflow: hidden; padding-bottom: 10px; }
.calendar li { float: left; width: 58px; height: 54px; margin: 10px 10px 0 0; border: 1px solid #fff; background: #424242; color: #fff; text-align: center; cursor: pointer; }
.calendar li h2 { font-size: 20px; padding-top: 5px; }
.calendar li p { font-size: 14px; }

.calendar .active { border: 1px solid #424242; background: #fff; color: #e84a7e; }
.calendar .active p { font-weight: bold; }

.calendar .text { width: 178px; padding: 0 10px 10px; border: 1px solid #fff; padding-top: 10px; background: #f1f1f1; color: #555; }
.calendar .text h2 {font-size: 14px; margin-bottom: 10px; }
.calendar .text p { font-size: 12px; line-height: 18px; }

</style>

</head>

<body>

    <div id="tab" class="calendar">
    <ul id="box">
        <li><h2>1</h2><p>JAN</p></li>
        <li><h2>2</h2><p>FER</p></li>
        <li><h2>3</h2><p>MAR</p></li>
        <li><h2>4</h2><p>APR</p></li>
        <li><h2>5</h2><p>MAY</p></li>
        <li><h2>6</h2><p>JUN</p></li>
        <li><h2>7</h2><p>JUL</p></li>
        <li><h2>8</h2><p>AUG</p></li>
        <li><h2>9</h2><p>SEP</p></li>
        <li><h2>10</h2><p>OCT</p></li>
        <li><h2>11</h2><p>NOV</p></li>
        <li><h2>12</h2><p>DEC</p></li>
    </ul>
    <div class="text" id="txt">
        <h2 id = "h2">1月活动</h2>
        <p id="p">快过年了，大家可以商量着去哪玩吧～</p>
    </div>
</div>
<script>
        //创建数组存储每个月份的信息
        var arr = [
            "hello 1!",
            "hello 2!",
            "hello 3!",
            "hello 4!",
            "hello 5!",
            "hello 6!",
            "hello 7!",
            "hello 8!",
            "hello 9!",
            "hello 10!",
            "hello 11!",
            "hello 12!",
        ]
        var h2 = document.getElementById("h2");
        var p = document.getElementById("p");
        console.log(h2,p);

    var box = document.getElementById("box");
    var ele_li = box.children;
    for(var i = 0, li; li = ele_li[i++]; ){
        li.setAttribute("index",i);  //设置标签属性
        li.onclick = handlerOnclick;
        // console.log(li.getAttribute("index"))
    }
    function handlerOnclick(){
        for(var i = 0, li; li = ele_li[i++]; ){
            li.className = ""
        }
        var index1 = this.getAttribute("index");
        console.log(index1)
        ele_li[index1-1].className = "active"
        h2.innerHTML = index1 + "月活动"
        p.innerHTML = arr[index1-1]

    }


    // var box = document.getElementById("box");
    // var ele_li = box.children;
    // for(var i = 0, li; li = ele_li[i++]; ){
    //     (function (index){
    //         li.onclick = function(){
    //             for(var k = 0, item; item = ele_li[k++]; ){
    //                 item.className = "";         
    //             }
    //             this.className = "active";//调用的li只能用this表示
    //             console.log(index)
    //         }
    //     })(i-1)
    // }

    // //利用对象实现点击改变样式，循环遍历每个li，为每个li添加一个属性index和一个事件处理函数的声明，在循环外进行事件处理函数的实现
    // //当用户点击的时候传递的是这个li的index值，通过index值设置点击的li的样式
    // //1.首先获得所有的li伪数组  2，循环遍历伪数组，为每个li添加index属性作为标记 3，li被点击的时候就对相应li改变样式
    // var box = document.getElementById("box");
    // var ele_li = box.children;
    // for(var i = 0, li; li = ele_li[i++]; ){
    //     li.setAttribute("index",i);  //设置标签属性
    //     li.onclick = handlerOnclick;
    //     // console.log(li.getAttribute("index"))
    // }
    // function handlerOnclick(){
    //     for(var i = 0, li; li = ele_li[i++]; ){
    //         li.className = ""
    //     }
    //     var index1 = this.getAttribute("index");
    //     ele_li[index1-1].className = "active"
        
    // }



    //循环遍历li，为每一个li添加一个onclick函数，当用户点击时触发事件直接调用函数
    // //利用标签点击变色
    // var box = document.getElementById("box");
    // var ele_li = box.children;  //得到的是所有子元素的伪数组
    // for(var i = 0, item; item = ele_li[i++];){  //得到每个子元素
    //     for(var k = 0; k < ele_li.length; k++){
    //         ele_li[k].className = "";
    //     }
    //     console.log(item);
    //     item.onclick = function (){   //循环执行给每个li添加onclick函数 
    //         this.className = "active"; //onclick函数在页面加载完之后才会被调用
    //     }
    // }
    

    //简易年历  鼠标点击 改变颜色，改变背景  首先应该获得点击的li的id   
    //利用标签的属性改变标签的颜色  
    //1.首先获得li的父节点 ul 2.从父节中得到所有的子节点的伪数组 
    //每一个li点击都会触发点击事件，点击后，每一个li都重置class样式，点击的li在下边重新设置class样式
    
    // var box1 = document.getElementById("box");  
    // var li1 = box1.children;
    // for(var i = 0, item; item = li1[i++];){
    //     item.onclick = function (){
    //         for(var k = 0; k < li1.length; k++){
    //             li1[k].className = "";
    //         }
    //         this.className = "active";
    //     }
    // }
    
</script>
</body>
</html>
