<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>Document</title>
</head>
<body>
      <script>
            //观察者模式， 一个Publisher和一个Subscriber
            class Publisher{
                  constructor(){
                        this.list = []; 
                  }
                  publish(){
                        for(var attr in this.list){
                              this.list[0].receive("hello");
                        }
                  }
                  addSubscribe(sub){
                        this.list.push(sub);
                  }
            }
            class Subscriber{
                  constructor(name, age){
                        this.name = name;
                        this.age = age;
                  }
                  receive(content){
                        console.log(content);
                  }
            }
            var publish = new Publisher();
            var sub1 = new Subscriber("hello1",12);
            var sub2 = new Subscriber("hello2",14);
            var sub3 = new Subscriber("hello3",15);
            publish.addSubscribe(sub1);
            publish.addSubscribe(sub2);
            publish.addSubscribe(sub3);
            publish.publish();

            
      </script>
</body>
</html>