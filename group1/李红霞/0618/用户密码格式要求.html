<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input type="text" id="text" placeholder="请输入用户名"><br>
    <input type="password" placeholder="请输入密码">
    <script>
        //用户名格式要求   //用户名长度6-20 //数字不能开头 //只能包含数字、字母、下划线 //48-57   65-90   97-122 95

        text.onblur = usernameCheck;
        function usernameCheck(){
            var username = text.value;
            if(username.length > 20 || username.length < 6){
                alert("用户名长度应该在6 - 20位之间");
                text.style.border = "1px solid #f00";
                return false;
            }
            var capital = username.charCodeAt(0);
            if(capital >= 48 && capital <= 57){
                alert("用户名不能以数字开头");
                text.style.border = "1px solid #f00";
                return false;
            }
            for(var i in username){
                capital = username.charCodeAt(i);
                if(capital < 48 && capital > 57 || capital <65 && capital > 90 || capital < 97&&capital > 122 || capital != 95){
                    alert("用户名只能包含数字，字母，下划线");
                    text.style.border = "1px solid #f00";
                    return false;
                }
            }
        }




    // function check(){
    //     var username = document.getElementById("username").value;
    //     var password = document.getElementById("pwd").value;
    //     //用户名长度6-20
    //     if(username.length < 6 || username.length > 20) {
    //         alert("用户名长度不对！！！");   
    //     }    
    //     //数字不能开头
    //     if(username.charCodeAt(0) >= 48 && username.charCodeAt(0) <= 57){
    //         alert("用户名不可以用数字开头！")    
    //     }     
    //     //只能包含数字、字母、下划线    
    //     for(var i in username) {
    //         var asc = username.charCodeAt(i);
    //         //48-57   65-90   97-122 95        
    //         if( (asc>=48&&asc<=57) || (asc>=65&&asc<=90) || (asc>=97&&asc<=122) || asc==95 ) {

    //         } else {
    //                 alert("用户名只能使用数字字母下划线");
    //                 break;        
    //         }    
    //     }
    // }    
    </script>

</body>
</html>